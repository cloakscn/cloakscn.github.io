<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="欢迎来到我的博客！这里是我分享个人见解、技术文章、生活点滴和创意的地方。在这里，你将看到关于编程、技术创新、前沿趋势、以及我对生活和工作的思考与感悟。我希望我的文章能够启发你，让你收获新的知识和灵感。如果你对某些话题感兴趣，欢迎留下评论与我讨论，也可以订阅我的博客，第一时间获取最新更新。
感谢你的访问，希望你在这里找到你感兴趣的内容！"><meta name=author content=Cloaks><link href=https://www.cloaks.cn/ruankao/basics%20database-design/ rel=canonical><link href=../basics%20software%20engineering/ rel=prev><link href=../basics%20intellectual%20property%20rights/ rel=next><link rel=alternate type=application/rss+xml title="RSS 订阅" href=../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="已更新内容的 RSS 订阅" href=../../feed_rss_updated.xml><link rel=icon href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.1"><title>数据库设计（重要） - Cloaks | Return</title><link rel=stylesheet href=../../assets/stylesheets/main.a40c8224.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://unpkg.com/katex@0/dist/katex.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-45SCRDG8S7"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-45SCRDG8S7",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-45SCRDG8S7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta property=og:type content=website><meta property=og:title content="数据库设计（重要） - Cloaks | Return"><meta property=og:description content="欢迎来到我的博客！这里是我分享个人见解、技术文章、生活点滴和创意的地方。在这里，你将看到关于编程、技术创新、前沿趋势、以及我对生活和工作的思考与感悟。我希望我的文章能够启发你，让你收获新的知识和灵感。如果你对某些话题感兴趣，欢迎留下评论与我讨论，也可以订阅我的博客，第一时间获取最新更新。
感谢你的访问，希望你在这里找到你感兴趣的内容！"><meta property=og:image content="https://www.cloaks.cn/assets/images/social/ruankao/basics database-design.png"><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://www.cloaks.cn/ruankao/basics%20database-design/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="数据库设计（重要） - Cloaks | Return"><meta name=twitter:description content="欢迎来到我的博客！这里是我分享个人见解、技术文章、生活点滴和创意的地方。在这里，你将看到关于编程、技术创新、前沿趋势、以及我对生活和工作的思考与感悟。我希望我的文章能够启发你，让你收获新的知识和灵感。如果你对某些话题感兴趣，欢迎留下评论与我讨论，也可以订阅我的博客，第一时间获取最新更新。
感谢你的访问，希望你在这里找到你感兴趣的内容！"><meta name=twitter:image content="https://www.cloaks.cn/assets/images/social/ruankao/basics database-design.png"><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label=不再显示此消息> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> Welcome to <strong>Cloask | Return</strong> Home &nbsp; <a href=https://phpbb.itycu.cn target=_blank rel="noopener noreferrer">PHPBB 社区</a>正式对外开放啦！ </div> <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title="Cloaks | Return" class="md-header__button md-logo" aria-label="Cloaks | Return" data-md-component=logo> <img src=../../assets/favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloaks | Return </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 数据库设计（重要） </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cloakscn/cloakscn.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> cloakscn/cloakscn.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 首页 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> 往期精粹 </a> </li> <li class=md-tabs__item> <a href=../../blog/ class=md-tabs__link> 博客 </a> </li> <li class=md-tabs__item> <a href=https://phpbb.itycu.cn class=md-tabs__link> 社区 </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Cloaks | Return" class="md-nav__button md-logo" aria-label="Cloaks | Return" data-md-component=logo> <img src=../../assets/favicon.ico alt=logo> </a> Cloaks | Return </label> <div class=md-nav__source> <a href=https://github.com/cloakscn/cloakscn.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> cloakscn/cloakscn.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> 首页 </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 首页 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> 往期精粹 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 往期精粹 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> 高级架构师 </span> </a> <label class="md-nav__link " for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 高级架构师 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_2 checked> <label class=md-nav__link for=__nav_2_1_2 id=__nav_2_1_2_label tabindex=0> <span class=md-ellipsis> 基础知识 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_1_2> <span class="md-nav__icon md-icon"></span> 基础知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../basics%20computer/ class=md-nav__link> <span class=md-ellipsis> 计算机系统 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20embedded/ class=md-nav__link> <span class=md-ellipsis> 嵌入式系统 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20network/ class=md-nav__link> <span class=md-ellipsis> 计算机网络 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20enterprise-informatization/ class=md-nav__link> <span class=md-ellipsis> 信息系统 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20information%20security/ class=md-nav__link> <span class=md-ellipsis> 信息安全技术 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20system%20engineering/ class=md-nav__link> <span class=md-ellipsis> 系统工程 </span> </a> </li> <li class=md-nav__item> <a href=../basics%20software%20engineering/ class=md-nav__link> <span class=md-ellipsis> 软件工程（重要‼️） </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 数据库设计（重要） </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 数据库设计（重要） </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 数据基础概念 </span> </a> <nav class=md-nav aria-label=数据基础概念> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 数据模型 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 数据库三级模式两级映像（编制中） </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 关系数据库 </span> </a> <nav class=md-nav aria-label=关系数据库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 关系代数运算 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 关系数据库设计基本理论 </span> </a> <nav class=md-nav aria-label=关系数据库设计基本理论> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 平凡、非平凡的函数依赖 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 关系数据库的规范化 </span> </a> <nav class=md-nav aria-label=关系数据库的规范化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 模式分解 </span> </a> <nav class=md-nav aria-label=模式分解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 模式分解的步骤 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 模式分解的优点 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 模式分解的挑战 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 函数依赖的判定方法 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 无损连接的判定方法 </span> </a> <nav class=md-nav aria-label=无损连接的判定方法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 基于关系代数的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 基于函数依赖的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#armstrong-axioms class=md-nav__link> <span class=md-ellipsis> 基于 Armstrong Axioms 的无损连接检查 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 无损连接算法（常用的方法之一） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 事务管理 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 并发控制 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 数据库的备份与恢复 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 数据库设计 </span> </a> <nav class=md-nav aria-label=数据库设计> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 需求分析 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 概念结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 逻辑结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 物理结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 数据库实施 </span> </a> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 运行维护 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 商业智能 </span> </a> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 数据仓库 </span> </a> </li> <li class=md-nav__item> <a href=#_31 class=md-nav__link> <span class=md-ellipsis> 数据挖掘 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_32 class=md-nav__link> <span class=md-ellipsis> 应用程序与数据库的交互 </span> </a> </li> <li class=md-nav__item> <a href=#nosql class=md-nav__link> <span class=md-ellipsis> NoSQL 数据库 </span> </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> <span class=md-ellipsis> 分布式数据库 </span> </a> <nav class=md-nav aria-label=分布式数据库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_34 class=md-nav__link> <span class=md-ellipsis> 体系结构 </span> </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> <span class=md-ellipsis> 特点 </span> </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> <span class=md-ellipsis> 分布透明性 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> <span class=md-ellipsis> 数据库优化技术 </span> </a> </li> <li class=md-nav__item> <a href=#redis class=md-nav__link> <span class=md-ellipsis> 分布式缓存技术 Redis </span> </a> </li> <li class=md-nav__item> <a href=#qa class=md-nav__link> <span class=md-ellipsis> Q&amp;A </span> </a> <nav class=md-nav aria-label=Q&amp;A> <ul class=md-nav__list> <li class=md-nav__item> <a href=#orm class=md-nav__link> <span class=md-ellipsis> ORM 是什么？ </span> </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> <span class=md-ellipsis> 数据库分类比较 </span> </a> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> <span class=md-ellipsis> 数据库缓存技术 </span> </a> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 不规范化带来的 4 大问题 </span> </a> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> <span class=md-ellipsis> 反规范化技术 </span> </a> </li> <li class=md-nav__item> <a href=#_41 class=md-nav__link> <span class=md-ellipsis> 存储过程是什么？ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../basics%20intellectual%20property%20rights/ class=md-nav__link> <span class=md-ellipsis> 知识产权 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_3> <label class=md-nav__link for=__nav_2_1_3 id=__nav_2_1_3_label tabindex=0> <span class=md-ellipsis> 中级知识 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_3> <span class="md-nav__icon md-icon"></span> 中级知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../medium%20software%20architecture/ class=md-nav__link> <span class=md-ellipsis> 系统架构设计（重要） </span> </a> </li> <li class=md-nav__item> <a href=../medium%20system-quality-attributes-and-architecture-assessment/ class=md-nav__link> <span class=md-ellipsis> 系统质量属性与架构评估（重要） </span> </a> </li> <li class=md-nav__item> <a href=../medium%20reliability/ class=md-nav__link> <span class=md-ellipsis> 软件可靠性基础 </span> </a> </li> <li class=md-nav__item> <a href=../medium%20software%20architecture%20evolution/ class=md-nav__link> <span class=md-ellipsis> 软件架构演化和维护 </span> </a> </li> <li class=md-nav__item> <a href=../medium%20future/ class=md-nav__link> <span class=md-ellipsis> 未来信息综合 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_4> <label class=md-nav__link for=__nav_2_1_4 id=__nav_2_1_4_label tabindex=0> <span class=md-ellipsis> 高级知识 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_4> <span class="md-nav__icon md-icon"></span> 高级知识 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../advanced%20information-system-architecture/ class=md-nav__link> <span class=md-ellipsis> 信息系统架构设计理论与实践 </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20hierarchical/ class=md-nav__link> <span class=md-ellipsis> 层次式架构设计理论与实践 </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20cloud-native/ class=md-nav__link> <span class=md-ellipsis> 云原生架构设计理论与实践 </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20service-oriented/ class=md-nav__link> <span class=md-ellipsis> 面向服务架构设计理论与实践（编制中） </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20embedded/ class=md-nav__link> <span class=md-ellipsis> 嵌入式系统架构设计理论与实践（编制中） </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20communication%20system/ class=md-nav__link> <span class=md-ellipsis> 通信系统架构设计理论与实践 </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20security%20architecture/ class=md-nav__link> <span class=md-ellipsis> 安全架构设计理论与实践 </span> </a> </li> <li class=md-nav__item> <a href=../advanced%20web/ class=md-nav__link> <span class=md-ellipsis> Web 应用开发（重要） </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1_5> <label class=md-nav__link for=__nav_2_1_5 id=__nav_2_1_5_label tabindex=0> <span class=md-ellipsis> 论文写作 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1_5> <span class="md-nav__icon md-icon"></span> 论文写作 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../paper/ class=md-nav__link> <span class=md-ellipsis> 论文写作（重要） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../design-patterns/ class="md-nav__link "> <span class=md-ellipsis> 设计模式 </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 设计模式 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2> <label class=md-nav__link for=__nav_2_2_2 id=__nav_2_2_2_label tabindex=0> <span class=md-ellipsis> 创建型模式 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> 创建型模式 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../design-patterns/creational-patterns/singleton/ class=md-nav__link> <span class=md-ellipsis> 单例模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/creational-patterns/prototype/ class=md-nav__link> <span class=md-ellipsis> 原型模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/creational-patterns/factory/ class=md-nav__link> <span class=md-ellipsis> 工厂模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/creational-patterns/abstract-factory/ class=md-nav__link> <span class=md-ellipsis> 抽象工厂模式 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_3> <label class=md-nav__link for=__nav_2_2_3 id=__nav_2_2_3_label tabindex=0> <span class=md-ellipsis> 建造者模式 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> 建造者模式 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/adapter/ class=md-nav__link> <span class=md-ellipsis> 适配器模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/facade/ class=md-nav__link> <span class=md-ellipsis> 外观模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/composite/ class=md-nav__link> <span class=md-ellipsis> 组合模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/proxy/ class=md-nav__link> <span class=md-ellipsis> 代理模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/decorator/ class=md-nav__link> <span class=md-ellipsis> 装饰模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/structural-patterns/bridge/ class=md-nav__link> <span class=md-ellipsis> 桥接模式 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_4> <label class=md-nav__link for=__nav_2_2_4 id=__nav_2_2_4_label tabindex=0> <span class=md-ellipsis> 行为模式 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_4> <span class="md-nav__icon md-icon"></span> 行为模式 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/template-method/ class=md-nav__link> <span class=md-ellipsis> 模版方法模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/state/ class=md-nav__link> <span class=md-ellipsis> 状态模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/strategy/ class=md-nav__link> <span class=md-ellipsis> 策略模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/chain-of-responsibility/ class=md-nav__link> <span class=md-ellipsis> 责任链模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/command/ class=md-nav__link> <span class=md-ellipsis> 命令模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/observer/ class=md-nav__link> <span class=md-ellipsis> 观察者模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/mediator/ class=md-nav__link> <span class=md-ellipsis> 中介者模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/visitor/ class=md-nav__link> <span class=md-ellipsis> 访问者模式 </span> </a> </li> <li class=md-nav__item> <a href=../../design-patterns/behavioral-patterns/iterator/ class=md-nav__link> <span class=md-ellipsis> 迭代器模式 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../refactoring/ class="md-nav__link "> <span class=md-ellipsis> 重构 </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 重构 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_2> <label class=md-nav__link for=__nav_2_3_2 id=__nav_2_3_2_label tabindex=0> <span class=md-ellipsis> 什么是重构 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_2> <span class="md-nav__icon md-icon"></span> 什么是重构 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/what-is-refactoring/technical-debt/ class=md-nav__link> <span class=md-ellipsis> 技术债务 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/what-is-refactoring/clean-code/ class=md-nav__link> <span class=md-ellipsis> 干净的代码 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/what-is-refactoring/when/ class=md-nav__link> <span class=md-ellipsis> 何时重构？ </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/what-is-refactoring/how-to/ class=md-nav__link> <span class=md-ellipsis> 如何重构? </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3> <div class="md-nav__link md-nav__container"> <a href=../../refactoring/code-smells/ class="md-nav__link "> <span class=md-ellipsis> 什么代码需要重构？ </span> </a> <label class="md-nav__link " for=__nav_2_3_3 id=__nav_2_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> 什么代码需要重构？ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_2> <label class=md-nav__link for=__nav_2_3_3_2 id=__nav_2_3_3_2_label tabindex=0> <span class=md-ellipsis> 臃肿的代码 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_2> <span class="md-nav__icon md-icon"></span> 臃肿的代码 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/code-smells/bloaters/long-parameter-list/ class=md-nav__link> <span class=md-ellipsis> 长参数列表 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3_3> <label class=md-nav__link for=__nav_2_3_3_3 id=__nav_2_3_3_3_label tabindex=0> <span class=md-ellipsis> Dispensables </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3_3> <span class="md-nav__icon md-icon"></span> Dispensables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/code-smells/dispensables/data-class/ class=md-nav__link> <span class=md-ellipsis> 数据类 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4> <div class="md-nav__link md-nav__container"> <a href=../../refactoring/techniques/ class="md-nav__link "> <span class=md-ellipsis> 解决方案 </span> </a> <label class="md-nav__link " for=__nav_2_3_4 id=__nav_2_3_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4> <span class="md-nav__icon md-icon"></span> 解决方案 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4_2> <label class=md-nav__link for=__nav_2_3_4_2 id=__nav_2_3_4_2_label tabindex=0> <span class=md-ellipsis> Composing Methods </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4_2> <span class="md-nav__icon md-icon"></span> Composing Methods </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/techniques/composing-methods/extract-method/ class=md-nav__link> <span class=md-ellipsis> 提取方法 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/composing-methods/replace-temp-with-query/ class=md-nav__link> <span class=md-ellipsis> 使用查询替换临时变量 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/composing-methods/split-temporary-variable/ class=md-nav__link> <span class=md-ellipsis> 拆分临时变量 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4_3> <label class=md-nav__link for=__nav_2_3_4_3 id=__nav_2_3_4_3_label tabindex=0> <span class=md-ellipsis> Moving Features between Objects </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4_3> <span class="md-nav__icon md-icon"></span> Moving Features between Objects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/techniques/moving-features-between-objects/move-method/ class=md-nav__link> <span class=md-ellipsis> 移动方法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4_4> <label class=md-nav__link for=__nav_2_3_4_4 id=__nav_2_3_4_4_label tabindex=0> <span class=md-ellipsis> Organizing Data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4_4> <span class="md-nav__icon md-icon"></span> Organizing Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/techniques/organizing-data/encapsulate-field/ class=md-nav__link> <span class=md-ellipsis> 封装字段 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/organizing-data/encapsulate-collection/ class=md-nav__link> <span class=md-ellipsis> 封装集合 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_4_5> <label class=md-nav__link for=__nav_2_3_4_5 id=__nav_2_3_4_5_label tabindex=0> <span class=md-ellipsis> 简化方法调用 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_3_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_4_5> <span class="md-nav__icon md-icon"></span> 简化方法调用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/replace-parameter-with-method-call/ class=md-nav__link> <span class=md-ellipsis> 调用方法代替参数 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/preserve-whole-object/ class=md-nav__link> <span class=md-ellipsis> 保留整个对象 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/remove-parameter/ class=md-nav__link> <span class=md-ellipsis> 删除参数 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/introduce-parameter-object/ class=md-nav__link> <span class=md-ellipsis> 引入参数对象 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/add-parameter/ class=md-nav__link> <span class=md-ellipsis> 添加参数 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/remove-setting-method/ class=md-nav__link> <span class=md-ellipsis> 删除设置方法 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/hide-method/ class=md-nav__link> <span class=md-ellipsis> 隐藏方法 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/separate-query-from-modifier/ class=md-nav__link> <span class=md-ellipsis> 将查询与修改分开 </span> </a> </li> <li class=md-nav__item> <a href=../../refactoring/techniques/simplifying-method-calls/rename-method/ class=md-nav__link> <span class=md-ellipsis> 重命名方法 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../blog/ class="md-nav__link "> <span class=md-ellipsis> 博客 </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 博客 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 归档 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 归档 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/archive/2022/ class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 分类 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 分类 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/category/build-your-own-database/ class=md-nav__link> <span class=md-ellipsis> Build your own database </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/clash-%E6%BA%90%E7%A0%81%E8%AF%A6%E8%A7%A3/ class=md-nav__link> <span class=md-ellipsis> Clash 源码详解 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/golang-%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> Golang 编程实践 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/linux/ class=md-nav__link> <span class=md-ellipsis> Linux </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/qa/ class=md-nav__link> <span class=md-ellipsis> Q&amp;A </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E5%8C%BA%E5%9D%97%E9%93%BE/ class=md-nav__link> <span class=md-ellipsis> 区块链 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ class=md-nav__link> <span class=md-ellipsis> 数据分析 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E6%9C%AD%E8%AE%B0/ class=md-nav__link> <span class=md-ellipsis> 札记 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E7%82%92%E8%82%A1%E5%85%BB%E5%AE%B6/ class=md-nav__link> <span class=md-ellipsis> 炒股养家 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E7%AE%97%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 算法 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/ class=md-nav__link> <span class=md-ellipsis> 读书笔记 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 软件工程 </span> </a> </li> <li class=md-nav__item> <a href=../../blog/category/%E9%AB%98%E7%BA%A7%E6%9E%B6%E6%9E%84%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 高级架构师 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://phpbb.itycu.cn class=md-nav__link> <span class=md-ellipsis> 社区 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 数据基础概念 </span> </a> <nav class=md-nav aria-label=数据基础概念> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 数据模型 </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 数据库三级模式两级映像（编制中） </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> 关系数据库 </span> </a> <nav class=md-nav aria-label=关系数据库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> 关系代数运算 </span> </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> 关系数据库设计基本理论 </span> </a> <nav class=md-nav aria-label=关系数据库设计基本理论> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> 平凡、非平凡的函数依赖 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> 关系数据库的规范化 </span> </a> <nav class=md-nav aria-label=关系数据库的规范化> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> 模式分解 </span> </a> <nav class=md-nav aria-label=模式分解> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> 模式分解的步骤 </span> </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> 模式分解的优点 </span> </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> 模式分解的挑战 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> 函数依赖的判定方法 </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> 无损连接的判定方法 </span> </a> <nav class=md-nav aria-label=无损连接的判定方法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> 基于关系代数的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> 基于函数依赖的判断方法 </span> </a> </li> <li class=md-nav__item> <a href=#armstrong-axioms class=md-nav__link> <span class=md-ellipsis> 基于 Armstrong Axioms 的无损连接检查 </span> </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> 无损连接算法（常用的方法之一） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> 事务管理 </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> 并发控制 </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> 数据库的备份与恢复 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> 数据库设计 </span> </a> <nav class=md-nav aria-label=数据库设计> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> 需求分析 </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> 概念结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> 逻辑结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> 物理结构设计 </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> 数据库实施 </span> </a> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> 运行维护 </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> 商业智能 </span> </a> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> <span class=md-ellipsis> 数据仓库 </span> </a> </li> <li class=md-nav__item> <a href=#_31 class=md-nav__link> <span class=md-ellipsis> 数据挖掘 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_32 class=md-nav__link> <span class=md-ellipsis> 应用程序与数据库的交互 </span> </a> </li> <li class=md-nav__item> <a href=#nosql class=md-nav__link> <span class=md-ellipsis> NoSQL 数据库 </span> </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> <span class=md-ellipsis> 分布式数据库 </span> </a> <nav class=md-nav aria-label=分布式数据库> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_34 class=md-nav__link> <span class=md-ellipsis> 体系结构 </span> </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> <span class=md-ellipsis> 特点 </span> </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> <span class=md-ellipsis> 分布透明性 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> <span class=md-ellipsis> 数据库优化技术 </span> </a> </li> <li class=md-nav__item> <a href=#redis class=md-nav__link> <span class=md-ellipsis> 分布式缓存技术 Redis </span> </a> </li> <li class=md-nav__item> <a href=#qa class=md-nav__link> <span class=md-ellipsis> Q&amp;A </span> </a> <nav class=md-nav aria-label=Q&amp;A> <ul class=md-nav__list> <li class=md-nav__item> <a href=#orm class=md-nav__link> <span class=md-ellipsis> ORM 是什么？ </span> </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> <span class=md-ellipsis> 数据库分类比较 </span> </a> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> <span class=md-ellipsis> 数据库缓存技术 </span> </a> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 不规范化带来的 4 大问题 </span> </a> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> <span class=md-ellipsis> 反规范化技术 </span> </a> </li> <li class=md-nav__item> <a href=#_41 class=md-nav__link> <span class=md-ellipsis> 存储过程是什么？ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/cloakscn/cloakscn.github.io/edit/master/docs/ruankao/basics database-design.md" title=编辑此页 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href="https://github.com/cloakscn/cloakscn.github.io/raw/master/docs/ruankao/basics database-design.md" title=查看本页的源代码 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=_1>数据库设计（重要）</h1> <h2 id=_2>数据基础概念</h2> <h3 id=_3>数据模型</h3> <p>数据模型三要素：<strong>数据结构、数据操作、数据的约束条件</strong>。其中，数据的约束条件包括：</p> <ul> <li>实体完整性：实体完整性是指实体的主属性不能取空值。</li> <li>参照完整性：在关系数据库中主要是指外键参照的完整性。若 A 关系中的某个或者某些属性参照 B 关系或其他几个关系中的属性，那么在关系 A 中该属性要么为空，要么必须出现在 B关系或者其他的关系的对应属性中。</li> <li>用户定义完整性：用户定义完整性反映的是某一个具体应用所对应的数据必须满足一定的约束条件。例如，软考成绩不能小于 0，也不能大于 75。</li> </ul> <div class="admonition info"> <p class=admonition-title>2010 综合知识 6</p> </div> <h3 id=_4>数据库三级模式两级映像（编制中）</h3> <p>数据库一般采用三级模式，系统开发人员需要通过视图层、逻辑层和物理层三个层次上的抽象来降低用户屏蔽系统的复杂性，简化用户与系统的交互。从数据库管理系统的角度，数据库也分为外模式、概念模式和内模式。</p> <p><a class=glightbox href=../images/image-1.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=数据库系统体系结构 src=../images/image-1.png></a></p> <p>内模式定义的是存储记录的类型、存储域的表示、存储记录的物理顺序，指引元、索引和存储路径等数据等存储组织。</p> <p>外模式/概念模式之间的的映像保证了数据库的逻辑独立性，即当数据的逻辑结构改变时，应用程序不需要修改。</p> <h2 id=_5>关系数据库</h2> <h3 id=_6>关系代数运算</h3> <p>关系代数的运算符有 4 类：<strong>集合运算符、专门的关系运算符、算术比较符和逻辑运算符</strong>，系统架构设计师考试重点考查 <strong>集合运算符与专门的关系运算符</strong>。集合运算符、专门的关系运算符的含义及解释详见表如下：</p> <table> <thead> <tr> <th>运算符</th> <th>含义</th> <th>解释</th> </tr> </thead> <tbody> <tr> <td></td> <td></td> <td><strong>集合运算</strong></td> </tr> <tr> <td>∪</td> <td>并</td> <td>关系 R 与 S 的并是由属于 R 或属于 S 的元组构成的集合</td> </tr> <tr> <td>−</td> <td>差</td> <td>关系 R 与 S 的差是由属于 R 但不属于 S 的元组构成的集合</td> </tr> <tr> <td>∩</td> <td>交</td> <td>关系 R 与 S 的交是由属于 R 同时又属于 S 的元组构成的集合</td> </tr> <tr> <td>×</td> <td>笛卡儿积</td> <td>两个关系分别为 n 列和 m 列的关系 R 和 S 的笛卡儿积是一个 (n+m) 列的元组的集合。其中的前 n 列是关系 R 的一个元组，后 m 列是关系 S 的一个元组。记作 R×S。如果 R 和 S 有相同的属性名，可在属性名前加关系名作为限定，以示区别。若 R 有 K1 个元组，S 有 K2 个元组，则 R 和 S 的笛卡儿积有 K1×K2 个元组</td> </tr> <tr> <td></td> <td></td> <td><strong>专门的关系运算</strong></td> </tr> <tr> <td>σ</td> <td>选择</td> <td>取得关系 R 中符合条件的行</td> </tr> <tr> <td>π</td> <td>投影</td> <td>取得关系 R 中符合条件的列</td> </tr> <tr> <td>⋈</td> <td>连接</td> <td>等值连接：选取关系 R、S, 取两者笛卡儿积中属性值相等的元组。自然连接：一种特殊的等值连接，它要求比较的属性列必须是相同的属性组，并且把重复属性去掉。</td> </tr> <tr> <td>÷</td> <td>除</td> <td>给定关系 R(X, Y) 和 S(Y, Z)，其中 X, Y, Z 为属性组。R 中的 Y 与 S 中的 Y 可以有不同的属性值，但必须由相同的属性域。R 与 S 的除运算得到一个新的关系 P(X)，是 R 中满足下列条件在 X 属性列上的投影：元组在 X 上为量值的象集 Yx 包含 S 在 Y 上投影的象集。</td> </tr> </tbody> </table> <p>关系代数的运算中还有一类是属于扩展的关系代数运算，可以从基本的关系运算中导出。系统架构设计师考试关注的是 <strong>外连接运算</strong>，这是连接运算的一种扩展。<strong>外连接运算包括左外连接、右外连接、完全外连接</strong>，具体见表如下：</p> <table> <thead> <tr> <th>运算符</th> <th>含义</th> <th>名词解释</th> </tr> </thead> <tbody> <tr> <td>⟕</td> <td>左外连接</td> <td>取出左侧关系中所有与右侧关系中任一元组都不匹配的元组，用空值 null 填充所有来自右侧关系的属性，构成新的元组，将其加入自然连接的结果中</td> </tr> <tr> <td>⟖</td> <td>右外连接</td> <td>取出右侧关系中所有与左侧关系中任一元组都不匹配的元组，用空值 null 填充所有来自左侧关系的属性，构成新的元组，将其加入自然连接的结果中</td> </tr> <tr> <td>⟗</td> <td>完全外连接</td> <td>完成左外连接和右外连接的操作。即填充左侧关系中所有与右侧关系中任一元组都不匹配的元组，并填充右侧关系中所有与左侧关系中任一元组都不匹配的元组，将产生的新元组加入自然连接的结果中</td> </tr> </tbody> </table> <p><strong>真题</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=_6-2013-年真题 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=_6-2013-年真题>2013 年真题</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../images/image-34.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-34.png></a> <a class=glightbox href=../images/image-35.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-35.png></a></p> </div> </div> </div> <h3 id=_7>关系数据库设计基本理论</h3> <p><strong>函数依赖：</strong> 设 R(U)是属性 U 上的一个关系模式，X 和 Y 是 U 的子集，r 是 R 的任一关系，如果对于 r 中的任意两个元组 u 和 v，只要有 u[X]=v[X]，就有 u[Y]=v[Y]，则称 X 函数决定 Y，或称 Y 函数依赖于 X，记为 X→Y。</p> <p>函数依赖是一种最重要、最基本的数据依赖。而关系数据库设计理论的核心就是数据间的函数依赖。</p> <p>具体来说，如果在一个关系（表）中，属性集 X 的值能够唯一地决定属性集 Y 的值，那么就说 Y 对 X 函数依赖，记作：<span class=arithmatex>\(X \rightarrow Y\)</span></p> <p><strong>非平凡的函数依赖：</strong> 如果 X→Y，Y⊆X，则称 X→Y 是非平凡的函数依赖。</p> <p><strong>平凡的函数依赖：</strong> 如果 X→Y，但 Y⊆X，则称 X→Y 是平凡的函数依赖。</p> <p><strong>完全函数依赖：</strong> 属性集 Y 完全依赖于 X，并且不存在 X 的真子集可以决定 Y。例如，复合主键中的所有属性共同决定其他属性。</p> <p>例如，有学生关系模式（学号，系号，系主任，课程号，成绩），该关系模式的主码是学号+课程号，（学号，课程号）→成绩是完全函数依赖。</p> <p><strong>部分函数依赖：</strong> 如果属性集 X 是复合键，而 Y 依赖于 X 的某个子集而非整个 X，这叫部分函数依赖。</p> <p>上述例子中，（学号，课程号）→系号就属于部分函数依赖，因为对于系号来说有学号就可以推出系号。</p> <p><strong>传递依赖：</strong> 如果 <span class=arithmatex>\(X \rightarrow Y\)</span> 且 Y <span class=arithmatex>\(\rightarrow Z\)</span>，那么存在传递依赖 <span class=arithmatex>\(X \rightarrow Z\)</span>。</p> <p>上述例子中，学号→系号，系号→系主任名，则称系主任名传递依赖于学号。</p> <p><strong>函数依赖的公理系统（Armstrong 公理系统）</strong>：</p> <h4 id=_8>平凡、非平凡的函数依赖</h4> <p><strong>非平凡的函数依赖</strong>（Non-trivial Functional Dependency）是指函数依赖中，属性集 <code>Y</code> 不是属性集 <code>X</code> 的子集。换句话说，在函数依赖 <code>X → Y</code> 中，若 <code>Y</code> 的任何属性都不包含在 <code>X</code> 中，那么这个依赖就是**非平凡的**。</p> <p>假设有一个关系表 <code>Employee</code>，包含以下属性： - <code>EmployeeID</code>（员工ID） - <code>Name</code>（员工姓名） - <code>Department</code>（所属部门）</p> <p><strong>平凡的函数依赖</strong>： <span class=arithmatex>\(\text{EmployeeID} \rightarrow \text{EmployeeID}\)</span> 这是平凡的函数依赖，因为 <code>Y</code> 集合（<code>EmployeeID</code>）完全包含在 <code>X</code> 集合（<code>EmployeeID</code>）中。</p> <p><strong>非平凡的函数依赖</strong>： <span class=arithmatex>\(\text{EmployeeID} \rightarrow \text{Name, Department}\)</span> 这是非平凡的函数依赖，因为 <code>Name</code> 和 <code>Department</code> 不包含在 <code>EmployeeID</code> 中。</p> <p><strong>非平凡函数依赖的重要性</strong></p> <p>非平凡的函数依赖通常是数据库设计中的重点关注对象，因为它们反映了属性之间的实际依赖关系。而平凡的函数依赖没有实际意义，通常被忽略。</p> <p>在数据库设计中，通过分析非平凡的函数依赖，能够帮助我们优化表结构，减少数据冗余，进而提升数据库的规范化水平。</p> <h3 id=_9>关系数据库的规范化</h3> <p>关系数据库设计的方法之一就是设计满足适当范式的模式，通常可以通过判断分解后的模式达到几范式来评价模式的规范化程度。</p> <p>范式包括：1NF、2NF、3NF、BCNF、4NF、5NF。</p> <blockquote> <p>根据系统架构设计师考试的要求，这里重点介绍 1NF、2NF、3NF、BCNF 的基本概念。</p> </blockquote> <table> <thead> <tr> <th>范式</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>第一范式（1NF）</td> <td>若关系模式 <span class=arithmatex>\(R\)</span> 的每一个分量是不可再分的数据项，则关系模式 <span class=arithmatex>\(R\)</span> 属于第一范式。</td> </tr> <tr> <td>第二范式（2NF）</td> <td>若关系模式 <span class=arithmatex>\(R \in 1NF\)</span>(1)，且每一个非主属性完全依赖主码时，则关系式 <span class=arithmatex>\(R\)</span> 是 <span class=arithmatex>\(2NF\)</span>（第二范式）。</td> </tr> <tr> <td>第三范式（3NF）</td> <td>当 <span class=arithmatex>\(2NF\)</span> 消除了非主属性对主码的传递函数依赖，则称为 <span class=arithmatex>\(3NF\)</span>。</td> </tr> <tr> <td>BC 范式（BCNF）</td> <td>如果关系模式 <span class=arithmatex>\(R \in 1NF\)</span>，且每个属性都不传递依赖于 <span class=arithmatex>\(R\)</span> 的候选码，那么称 <span class=arithmatex>\(R\)</span> 是 <span class=arithmatex>\(BCNF\)</span> 模式。</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>符号 <code>∈</code> 表示“属于”（is an element of），用于表示某个元素属于一个集合。例如，在表达 式 $ x \in A $ 中，意思是“元素 $ x $ 是集合 $ A $ 的一个成员”。它常用于集合论和数学中，表示元素与集合之间的关系。</p> </div> <p>上述 4 种范式之间有如下联系：<span class=arithmatex>\(BCNF \sub 3NF \sub 2NF \sub 1NF\)</span>。</p> <h4 id=_10>模式分解</h4> <p>在数据库设计中，<strong>模式分解（Schema Decomposition）</strong> 是指将复杂或冗余的数据库表结构分解为更小、更简洁的表，以确保数据的一致性、减少冗余和避免异常（anomalies）。这种技术通常与 <strong>范式化（Normalization）</strong> 过程相关，目的是创建一个结构良好的数据库设计。</p> <p>模式分解的核心目的是通过分解关系表来达到更高的 <strong>范式</strong>（如第三范式、BCNF），从而消除数据冗余和潜在的更新异常。该过程通常包括以下步骤：</p> <ol> <li><strong>识别不必要的数据冗余</strong>：例如，重复存储相同信息。</li> <li><strong>分解表</strong>：将一个包含冗余数据的大表分解为多个更小的表，使每个表只包含单一的实体或主题。</li> <li><strong>保持数据依赖</strong>：通过定义外键保持表之间的关系，确保分解后的表能够正确关联。</li> </ol> <h5 id=_11>模式分解的步骤</h5> <ol> <li> <p><strong>确定函数依赖（Functional Dependencies）</strong>：在模式分解之前，首先需要确定关系中的函数依赖。函数依赖定义了哪些字段的值由哪些其他字段的值唯一确定。</p> </li> <li> <p><strong>选择范式化级别</strong></p> </li> </ol> <div class="admonition tip"> <p class=admonition-title>典型的范式</p> <ul> <li> <p><strong>第一范式（1NF）</strong>：确保数据的原子性（每列只有一个值）。</p> </li> <li> <p><strong>第二范式（2NF）</strong>：消除部分依赖，使每个非主属性都完全依赖于主键。</p> </li> <li> <p><strong>第三范式（3NF）</strong>：消除传递依赖，使每个非主属性直接依赖于主键。</p> </li> </ul> </div> <ol> <li><strong>分解表</strong>：根据确定的函数依赖和范式，分解表。目标是将原来的表分解成多个满足范式化要求的表。例如，如果表中的某些字段存在<u>部分依赖</u>或<u>传递依赖</u>，可以通过分解这些字段到新的表中来消除这些依赖。</li> </ol> <details class=example open=open> <summary>例子</summary> <p>假设有一个表 <code>Orders</code>，记录订单信息：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Orders(OrderID, CustomerName, CustomerAddress, ProductID, ProductName, Quantity)
</span></code></pre></div> <p><strong>问题：</strong></p> <ul> <li>该表中包含了客户信息和产品信息，存在冗余，比如同一客户可能会多次下单，导致客户信息重复存储。</li> <li>另外，可能还存在更新异常，如果客户的地址变化，需要修改多个记录。</li> </ul> <p><strong>分解过程：</strong></p> <ol> <li>识别冗余：客户信息和产品信息在多次订单中重复存储。</li> <li>分解表：</li> </ol> <div class="tabbed-set tabbed-alternate" data-tabs=2:3><input checked=checked id=_11-订单表 name=__tabbed_2 type=radio><input id=_11-客户表 name=__tabbed_2 type=radio><input id=_11-产品表 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=_11-订单表>订单表</label><label for=_11-客户表>客户表</label><label for=_11-产品表>产品表</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>Orders(OrderID, CustomerID, ProductID, Quantity)
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>Customers(CustomerID, CustomerName, CustomerAddress)
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>Products(ProductID, ProductName)
</span></code></pre></div> </div> </div> </div> <p>这样，通过分解，我们消除了冗余和更新异常，数据库结构更简洁且易于维护。</p> </details> <h5 id=_12>模式分解的优点</h5> <ul> <li><strong>减少数据冗余</strong>：消除重复数据，节省存储空间。</li> <li><strong>避免数据异常</strong>：如插入、更新、删除异常。</li> <li><strong>提高数据一致性</strong>：通过更细化的表结构，保证数据的完整性和一致性。</li> </ul> <h5 id=_13>模式分解的挑战</h5> <ul> <li><strong>性能问题</strong>：过度分解可能导致查询效率下降，因为需要进行多个表的连接操作。</li> <li><strong>理解难度</strong>：分解后可能使得数据库设计变得复杂，特别是在跨多个表进行查询时。</li> </ul> <p>总的来说，模式分解是数据库设计中重要的优化过程，目标是通过良好的范式化，确保数据库结构稳定且高效。</p> <div class="admonition example"> <p class=admonition-title>我们给出一个例题来验证判定函数依赖和无损连接的不同方法</p> <p>给定关系模式</p> <div class=arithmatex>\[ R&lt;U,F&gt; \\ U= \{ A,B,C,D,E \} \\ F=\{B \rightarrow A, D \rightarrow A, A \rightarrow E, AC \rightarrow B\} \]</div> <p>则 <span class=arithmatex>\(R\)</span> 的候选关键字为（A），分解 <span class=arithmatex>\(\Rho=\{ R1(ABCE), R2(CD) \}\)</span>（D）。</p> <table> <thead> <tr> <th>选项一</th> <th>选项二</th> </tr> </thead> <tbody> <tr> <td>A. CD<br>B. ABC<br>C. ACD<br>D. ADE</td> <td>A. 具有无损连接性，且保持函数依赖<br>B. 不具有无损连接性，但保持函数依赖<br>C. 具有无损连接性，但不保持函数依赖<br>D. 不具有无损连接性，也不保持函数依赖</td> </tr> </tbody> </table> </div> <h4 id=_14>函数依赖的判定方法</h4> <p>要判断函数依赖是否保留在分解后的关系中，通常我们需要检查是否在每个分解的子关系中仍然可以推出给定的函数依赖。</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>对于 <span class=arithmatex>\(R1=(ABCE)\)</span>，我们有：</p> <ul> <li><span class=arithmatex>\(B \rightarrow A\)</span> 成立，因为 <span class=arithmatex>\(B\)</span> 和 <span class=arithmatex>\(A\)</span> 都在 <span class=arithmatex>\(R1\)</span> 中；</li> <li><span class=arithmatex>\(A \rightarrow E\)</span> 成立，因为 <span class=arithmatex>\(A\)</span> 和 <span class=arithmatex>\(E\)</span> 都在 <span class=arithmatex>\(R1\)</span> 中；</li> <li><span class=arithmatex>\(AC \rightarrow B\)</span> 成立，因为 <span class=arithmatex>\(A，C，B\)</span> 都在 <span class=arithmatex>\(R1\)</span> 中。</li> </ul> <p>对于 <span class=arithmatex>\(R2=(CD)\)</span>，我们有：</p> <ul> <li><span class=arithmatex>\(D \rightarrow A\)</span> 不成立，因为 <span class=arithmatex>\(A\)</span> 不在 <span class=arithmatex>\(R2\)</span> 中；</li> </ul> <p>因此，函数依赖 <span class=arithmatex>\(D \rightarrow A\)</span> 在这个分解中 <strong>不被保留</strong>，即 <strong>不保持函数依赖</strong>。</p> </div> <h4 id=_15>无损连接的判定方法</h4> <p>在数据库设计中，<strong>无损连接</strong>（Lossless Join）是一种确保通过将分解后的关系表重新连接（Join）时，不会丢失任何数据或产生冗余的属性的特性。判定是否是无损连接，通常是通过验证表之间的**主键-外键关系**或**函数依赖**来实现的。</p> <p>无损连接是数据库模式分解中的一个关键目标，确保在范式化过程中不会丢失信息。</p> <p><strong>无损分解</strong>：分解后的关系能够还原出原关系模式，不能还原就是有损分解。</p> <p>无损连接判定主要通过以下几种方式进行：</p> <h5 id=_16>基于关系代数的判断方法</h5> <p>当分解为两个关系模式，可以通过以下定理判断是否无损分解：</p> <p>定理：如果 <span class=arithmatex>\(R\)</span> 的分解为 <span class=arithmatex>\(p=\{R1,R2\}\)</span>，<span class=arithmatex>\(F\)</span> 为 <span class=arithmatex>\(R\)</span> 所满足的函数依赖集合，分解 <span class=arithmatex>\(p\)</span> 具有无损连接性的充分必要条件是 <span class=arithmatex>\(R1 \cap R2 \rightarrow (R1-R2)\)</span> 或者 <span class=arithmatex>\(R1 \cap R2 \rightarrow (R2-R1)\)</span></p> <div class="admonition example"> <p class=admonition-title>Example</p> <p><span class=arithmatex>\(R1 \cap R2 \rightarrow (R1-R2)\)</span> 结合例子信息我们可以得到 <span class=arithmatex>\(\{ C \} \rightarrow \{ ABE \}\)</span></p> <p>我们只需要验证根据函数依赖 <span class=arithmatex>\(F\)</span> 是否可以推导出这个结论，从而验证该模式分解是否是无损分解。</p> </div> <h5 id=_17>基于函数依赖的判断方法</h5> <p>在某些情况下，可以根据 <strong>函数依赖</strong> 来判断分解是否是无损的。</p> <p>对于任意分解 <span class=arithmatex>\(R1\)</span> 和 <span class=arithmatex>\(R2\)</span>，如果函数依赖关系 <span class=arithmatex>\(FD(R)\)</span> 中的某个属性集 <span class=arithmatex>\(X\)</span> 可以通过连接恢复，且 <span class=arithmatex>\(X\)</span> 是 <span class=arithmatex>\(R1\)</span> 或 <span class=arithmatex>\(R2\)</span> 的一个候选键，则分解具有无损连接性。</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>判断公共属性是否是候选键：我们发现 <span class=arithmatex>\(C\)</span> 本身并不是候选键（候选键是 <span class=arithmatex>\(CD\)</span>），因此无法直接通过公共属性来保证无损连接。</p> <p>函数依赖的推导：从 <span class=arithmatex>\(C\)</span> 无法通过现有的函数依赖推导出关系中的所有属性（如 <span class=arithmatex>\(B\)</span> 或 <span class=arithmatex>\(E\)</span>），因此无法保证无损连接。</p> </div> <h5 id=armstrong-axioms>基于 Armstrong Axioms 的无损连接检查</h5> <p>你可以使用 Armstrong Axioms 推导函数依赖闭包，来判断分解是否会造成信息丢失。Armstrong Axioms 是一组用于推导函数依赖的规则，包括 <strong>反身性、传递性和扩展性</strong> 等。通过分析函数依赖的传递关系，可以验证模式分解的无损性。</p> <h5 id=_18>无损连接算法（常用的方法之一）</h5> <ol> <li>构建一个包含 <span class=arithmatex>\(m\)</span> 行（每个分解的表）和 <span class=arithmatex>\(n\)</span> 列（原关系表的属性）的矩阵，其中每个属性对应一列，每个子表对应一行。</li> <li>对于每个分解的表 <span class=arithmatex>\(Rm\)</span>，将其包含的属性在矩阵中标记为 <span class=arithmatex>\(a_n\)</span>，其他的属性标记为 <span class=arithmatex>\(b_mn\)</span>。</li> <li>根据函数依赖，依次确认是否可以更新标记 b 为 a。</li> <li>确认是否某一行全部确认即为无损分解。</li> </ol> <details class=example open=open> <summary>Example</summary> <p>假设有关系 <span class=arithmatex>\(R(A, B, C)\)</span>，候选键为 <span class=arithmatex>\(A\)</span>，分解为 <span class=arithmatex>\(R1(A, B)\)</span> 和 <span class=arithmatex>\(R2(A, C)\)</span>。我们根据无损连接算法构造矩阵：</p> <table> <thead> <tr> <th>属性</th> <th>A</th> <th>B</th> <th>C</th> <th>D</th> <th>E</th> </tr> </thead> <tbody> <tr> <td>R1</td> <td>a1</td> <td>a2</td> <td>a3</td> <td>b14</td> <td>a5</td> </tr> <tr> <td>R2</td> <td>b21</td> <td>b22</td> <td>a3</td> <td>a4</td> <td>b25</td> </tr> </tbody> </table> <p>查看函数依赖：</p> <ul> <li><span class=arithmatex>\(B \rightarrow A\)</span>, 两行不相同，无，所以 A 列不能更新；</li> <li><span class=arithmatex>\(D \rightarrow A\)</span>, 两行不相同，无，所以 A 列不能更新；</li> <li><span class=arithmatex>\(A \rightarrow E\)</span>, 两行不相同，无，所以 E 列不能更新；</li> <li><span class=arithmatex>\(AC \rightarrow B\)</span>, C 列相同，A 列不同，无，所以 B 列不能更新；</li> </ul> <p>没有一行全部确认，的出分解不具有无损连接。</p> </details> <p>要确保数据库分解是无损连接的，关键是确保分解后的关系表能够通过连接操作无损地恢复为原来的表结构，且不产生冗余数据或丢失信息。</p> <details class=example open=open> <summary>2012 综合知识 7,8</summary> <p><a class=glightbox href=../images/image-27.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-27.png></a></p> <p><a class=glightbox href=../images/image-28.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-28.png></a></p> </details> <p><strong>真题</strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=3:1><input checked=checked id=_18-2012-年真题 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=_18-2012-年真题>2012 年真题</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../images/image-32.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-32.png></a> <a class=glightbox href=../images/image-33.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="alt text" src=../images/image-33.png></a></p> </div> </div> </div> <h3 id=_19>事务管理</h3> <p>DBMS 运行的基本工作单位是事务，事务是用户定义的一个数据库操作序列，这些操作序列要么全做，要么全都不做，是一个不可分割的工作单位。事务具有的四个特性（ACID）：</p> <ol> <li><strong>原子性（Atomicity）：</strong> 事务是数据库的逻辑工作单位，事务的所有操作在数据库中要么全做，要么全都不做。</li> <li><strong>一致性（Consistency）：</strong> 事务的执行使数据库从一个一致性状态变成另一个一致性状态。</li> <li><strong>隔离性（Isolation）：</strong> 一个事务的执行不能被其他事务干扰。</li> <li><strong>持久性（Durability）：</strong> 指一个事务一旦提交，它对数据库的改变必须是永久的，即便系统出现故障时也是如此。</li> </ol> <p><strong>相关 SQL 语句</strong></p> <ol> <li><strong>BEGIN TRANSACTION：</strong> 事务开始语句。</li> <li><strong>COMMIT：</strong> 事务提交语句，表示事务执行成功地结束，把事务对数据库的修改写入磁盘（事务对数据库的操作首先是在缓冲区中进行的）。</li> <li><strong>ROLL BACK：</strong> 事务回滚语句，表示事务执行不成功地结束，即把事务对数据库的修改进行恢复。</li> </ol> <details class=info open=open> <summary>2012 综合知识 44,45,46,47,48</summary> <p>在数据库系统中，“事务”是访问并可能更新各种数据项的一个程序执行单元。为了保证数据完整性，要求数据库系统维护事务的原子性、一致性、隔离性和持久性。</p> <p>题干中第 1 个架构设计场景描述了数据库设计中为了实现原子性和持久性的最为简单的策略：“影子拷贝”。该策略假设在某一个时刻只有一个活动的事务，首先对数据库做副本（称为影子副本)，并在磁盘上维护一个 dp pointer 指针，指向数据库的当前副本。对于要执行写操作的数据项，数据库系统在磁盘上维护数据库的一个副本，所有的写操作都在数据库副本上执行，而保持原始数据库不变，如果在任一时刻操作不得不中止， 系统仅需要删除新副本，原数据库副本没有受到任何影响。</p> <p>题干中的第 2 个架构设计场景主要考查考生对事务一致性实现机制的理解。事务的一致性要求在没有其他事务并发执行的情况下，事务的执行应该保证数据库的一致性。数据库系统通常采用完整性约束检查机制保证单个事务的一致性。</p> <p>题干中的第 3 个架构设计场景主要考查数据库的锁协议。两阶段锁协议是实现事务隔离性的常见方案，该协议通过定义锁的增长和收缩两个阶段约束事务的加锁和解锁过程，能够保证事务的串行化执行，但由于事务不能一次得到所有需要的锁，因此该协议会可能会导致死锁。 </p> <p>题干中的第 4 个架构设计场景主要考查数据库的恢复机制，主要描述了基于日志的延迟修改技术（deferred modification technique)的设计与恢复过程。该技术通过在日志中记录所有对数据库的修改操作，将一个事务的所有写操作延迟到事务提交后才执行，曰志中需要记录“事务开始”和“事务提交”时间，还需要记录数据项被事务修改后的新值，无需记录数据项被事务修改前的原始值。当系统发生故障时，如果某个事务已经开始，但没有提交，则该事务对数据项的修改尚未体现在数据库中，因此无需做任何恢复动作。</p> </details> <h3 id=_20>并发控制</h3> <details class=question open=open> <summary>并发场景引入</summary> <ul> <li>丢失更新：事务 1（T1）对数据 A 进行了修改并写回，事务 2（T2）也对数据 A 进行了修改并写回，此时事务 2 写回的数据会覆盖事务 1 写回的数据，就丢失了事务 1 对 A 的更新。即数据 A 的更新会被覆盖</li> <li>不可重复读：此时事务 1 再次读取数据 A，发现数据不对。即一个事务重复读 A 两次，会发现数据 A 有误。</li> <li>读脏数据: 此时事务 2 执行回滚操作，即数据 A 恢复了原来的之，那么事务 1 读到了脏数据。</li> </ul> <pre class=mermaid><code>sequenceDiagram
autonumber
DB-&gt;&gt;T1: 读 A=10
DB-&gt;&gt;T2: 读 A=10
T1-&gt;&gt;DB: A-=5 写回
T2-&gt;&gt;DB: A-=8 写回（丢失事务 1 对数据 A 的更新）
DB-&gt;&gt;T1: 读 A=2（统一事务重复读取数据 A，发现数据不一致）
T2-&gt;&gt;DB: ROLLBACK（数据 A 变成了 5, 事务 1 读到了脏数据）</code></pre> </details> <p>在多用户共享系统中，许多事务可能同时对同一数据进行操作，称为并发操作，此时数据库管理系统的并发控制子系统负责协调并发事务的执行，保证数据库的完整性不受破坏，同时避免用户得到不正确的数据。并发控制的主要技术是封锁，主要有两种类型的封锁，分别是 X 封锁和 S 封锁。</p> <ol> <li>排他型封锁（X 封锁）：如果事务 T 对数据 A（可以是数据项、记录、数据集以至整个数 据库）实现了 X 封锁，那么只允许事务 T 读取和修改数据 A，其他事务要等事务 T 解除 X 封锁以后，才能对数据 A 实现任何类型的封锁。可见 X 封锁只允许一个事务独锁某个数据，具有排他性。</li> <li>共享型封锁（S 封锁）：如果事务 T 对数据 A 实现了 S 封锁，那么允许事务 T 读取数据 A，但不能修改数据 A，在所有 S 封锁解除之前决不允许任何事务对数据 A 实现 X 封锁。</li> </ol> <details class=info> <summary>2015 综合知识 5</summary> <p>与操作系统一样，封锁的方法可能引起活锁和死锁。例如事务 T1 封锁了数据 R，事务 T2 请求封锁 R，于是 T2 等待。T3 也请求封锁 R，当 T1 释放了 R 上的封锁之后系统首先批准了 T3 的请求，T2 仍然等待。然后 T4 又请求封锁 R，当：T3 释放 R 上的封锁后系统又批准了 T4 的请求，……T2 有可能长期等待，这就是活锁。<strong>避免活锁的简单方法是采用先来先服务的策略。即让封锁子系统按请求封锁的先后次序对事务排队。数据 R 上的锁一旦释放就批准申请队列中的第一个事务获得锁。</strong></p> <p>又如事务 T1 封锁了数据 R1，T2 封锁了数据 R2，T3 封锁了数据 R3。然后 T1 又请求封锁 R2，T2 请求封锁 R3，T3 请求封锁 R1。于是出现 T1 等待 T2 释放 R2 上的封锁，T2 等待T3 释放 R3 上的封锁，T3 等待 T1 释放 R1 上的封锁。这就使得三个事务永远不能结束。即多个事务都请求封锁别的事务已封锁的数据，导致无法运行下去的现象称为死锁。</p> </details> <h3 id=_21>数据库的备份与恢复</h3> <h2 id=_22>数据库设计</h2> <p>数据库设计的基本步骤。可以分为用户需求分析、概念结构设计、逻辑结构设计、物理结构设计、应用程序设计、运行维护。</p> <h3 id=_23>需求分析</h3> <p>用户需求分析是综合各用户的应用需求，对现实世界要处理的对象进行详细调查，在了解先行系统的概况，确定新系统功能的过程中，协助用户明确对新系统的信息要求、处理要求和系统要求，确定新系统的边界。</p> <details class=info open=open> <summary>2012 综合知识 5,6</summary> <p>数据库设计主要分为用户 <strong>需求分析</strong>、<strong>概念结构</strong>、<strong>逻辑结构</strong> 和 <strong>物理结构设计</strong> 四个阶段。其中，在用户需求分析阶段中，数据库设计人员采用一定的辅助工具对应用对象的功能、性能、限制等要求所进行的科学分析，并形成 <strong>需求说明文档</strong>、<strong>数据字典</strong> 和 <strong>数据流程图</strong>。用户需求分析阶段形成的相关文档用以作为概念结构设计的设计依据。</p> </details> <h3 id=_24>概念结构设计</h3> <p>概念数据模型又称为实体-联系模型，它按照用户的观点来对数据和信息建模，主要用于数据库设计。概念模型主要用实体-联系方法（Entity-Relationship Approach）表示，简称 <span class=arithmatex>\(E-R\)</span> 方法。</p> <p>概念结构设计工作步骤包括：选择局部应用、逐一设计分 <span class=arithmatex>\(E-R\)</span> 图和 <span class=arithmatex>\(E-R\)</span> 图合并。在进行 <span class=arithmatex>\(E-R\)</span> 图合并时，需解决属性冲突、命名冲突和结构冲突。<span class=arithmatex>\(E-R\)</span> 模型简称 <span class=arithmatex>\(E-R\)</span> 图，是描述概念世界、建立概念模型的实用工具。<span class=arithmatex>\(E-R\)</span> 图的三个要素有：</p> <ol> <li>实体（型）：用矩形框表示，框内标注实体名称。</li> <li>属性：用椭圆形表示，并用连线与实体连接起来。</li> <li>实体之间的联系：用菱形框表示，框内标注联系名称，用连线将菱形框分别与有关实体相连，并在连线上注明联系类型。</li> </ol> <div class="admonition info"> <p class=admonition-title>2011 综合知识 5,6,7</p> <p>多对多的联系必须转换为一个独立的关系模式。</p> </div> <h3 id=_25>逻辑结构设计</h3> <p>逻辑结构设计阶段主要工作步骤包括确定数据模型、将 E-R 图转换成指定的数据模型、确定完整性约束和确定用户视图。</p> <div class="admonition info"> <p class=admonition-title>2010 综合知识 5</p> <p>数据库设计分为用户需求分析、概念设计、逻辑设计和物理设计 4 个主要阶段。将抽象的概念模型转化为与选用的 DBMS 产品所支持的数据模型相符合的逻辑模型，它是物理设计的基础。包括模式初始设计、子模式设计、应用程序设计、模式评价以及模式求精。</p> <p>逻辑设计阶段的任务是将概念模型设计阶段得到的基本 E R 图转换为与选用的 DBMS 产品所支持的数据模型相符合的逻辑结构。如采用基于 E R 模型的数据库设计方法，该阶段就是将所设计的 E R 模型转换为某个 DBMS 所支持的数据模型；如采用用户视图法，则应进行模式的规范化，列出所有的关键字以及用数据结构图描述表集合中的约束与联系，汇总各用户视图的设计结果，将所有的用户视图合成一个复杂的数据库系统。</p> </div> <h3 id=_26>物理结构设计</h3> <p>物理设计主要工作步骤包括确定数据分布、存储结构和访问方式。</p> <h3 id=_27>数据库实施</h3> <p>数据库实施是根据逻辑和物理设计的结果，在计算机上建立实际的数据库结构，数据加载（装入），进行试运行和评价。</p> <h3 id=_28>运行维护</h3> <p>数据库运行维护主要包括对数据库性能的监测和改善、故障恢复、数据库的重组和重构。在数据库运行阶段，对数据库的维护主要由 DBA 完成。</p> <h3 id=_29>商业智能</h3> <p>商业智能（Business Intelligence，BI）是企业对商业数据的搜集、管理和分析的系统过程，目的是使企业的各级决策者获得知识或洞察力，帮助他们作出对企业更有利的决策。一般认为 <strong>数据仓库、联机分析处理（OLAP）和数据挖掘</strong> 是商业智能的三大组成部分。</p> <blockquote> <p>商业智能（BI）系统主要包括 <strong>数据预处理、建立数据仓库、数据分析和数据展现四个主要阶段。</strong></p> </blockquote> <div class="admonition tip"> <p class=admonition-title>2015 综合知识 22,23,24</p> <p>商业智能系统的处理过程包括<u>数据预处理、建立数据仓库、数据分析及数据展现</u> 4 个主要阶段。</p> <p><strong>数据预处理</strong> 是整合企业原始数据的第一步，包括数据的 <strong>抽取、转换和装载</strong> 三个过程。</p> <p><strong>建立数据仓库</strong> 则是处理海量数据的基础。</p> <p><strong>数据分析</strong> 是体现系统智能的关键，一般采用 <strong>OLAP</strong> 和 <strong>数据挖掘</strong> 技术。联机分析处理不仅进行数据汇总/聚集，同时还提供切片、切块、下钻、上卷和旋转等数据分析功能，用户可以方便地对海量数据进行多维分析。数据挖掘的目标则是挖掘数据背后隐藏的知识，<u>通过关联分析、聚类和分类等方法建立分析模型，预测企业未来发展趋势和将要面临的问题。</u> </p> <p>在海量数据和分析手段增多的情况下，<strong>数据展现</strong> 则主要保障系统分析结果的可视化。</p> </div> <h3 id=_30>数据仓库</h3> <p>数据仓库（Data Warehouse）是一个面向主题的、集成的、相对稳定且随时间变化的数据集合，用于支持管理决策。数据仓库的关键特征是：面向主题、集成的、非易失的、时变的。</p> <p><strong>数据仓库的结构通常包含四个层次</strong></p> <ol> <li>数据源：是数据仓库的基础，是整个系统的数据来源</li> <li>数据的存储与管理：是整个数据仓库的核心</li> <li>OLAP（联机分析处理）服务器</li> <li>前端工具</li> </ol> <p>OLTP 与 OLAP 的比较：OLTP 即联机事务处理，就是我们经常说的关系数据库的基础；OLAP 即联机分析处理，是数据仓库的核心部分。</p> <p><strong>传统数据库与数据仓库的比较</strong></p> <table> <thead> <tr> <th>比较项目</th> <th>传统数据库</th> <th>数据仓库</th> </tr> </thead> <tbody> <tr> <td>数据内容</td> <td>当前值</td> <td>历史的、归档的、归纳的、计算的数据（处理过的）</td> </tr> <tr> <td>数据目标</td> <td>面向业务操作性程序，重复操作</td> <td>面向主体域，分析应用</td> </tr> <tr> <td>数据特性</td> <td>动态变化，更新</td> <td>静态，不能直接更新，只能定时添加、更新</td> </tr> <tr> <td>数据结构</td> <td>高度结构化、复杂，适合操作计算</td> <td>简单，适合分析</td> </tr> <tr> <td>使用频率</td> <td>高</td> <td>低</td> </tr> <tr> <td>数据访问量</td> <td>每个事务一般只访问少量记录</td> <td>每个事务一般访问大量记录</td> </tr> <tr> <td>对响应时间的要求</td> <td>计时单位小，如秒</td> <td>计时单位相对较大，除了秒，还有分钟、小时</td> </tr> </tbody> </table> <p><strong>OLTP 与 OLAP 的具体区别</strong></p> <table> <thead> <tr> <th>项目</th> <th>OLTP</th> <th>OLAP</th> </tr> </thead> <tbody> <tr> <td>用户</td> <td>操作人员、低层管理人员</td> <td>决策人员、高级管理人员</td> </tr> <tr> <td>功能</td> <td>日常操作处理</td> <td>分析决策</td> </tr> <tr> <td>DB 设计</td> <td>面向应用</td> <td>面向主题</td> </tr> <tr> <td>数据</td> <td>当前的、最新的、细节的、二维的、分立的</td> <td>历史的、聚集的、多维的、集成的、统一的</td> </tr> <tr> <td>存取</td> <td>读/写数十条记录</td> <td>读上百万条记录</td> </tr> <tr> <td>工作单位</td> <td>简单的事务</td> <td>复杂的查询</td> </tr> <tr> <td>用户数</td> <td>上千个</td> <td>上百个</td> </tr> <tr> <td>DB 大小</td> <td>100MB 至 GB 级</td> <td>100GB 至 TB 级</td> </tr> </tbody> </table> <h3 id=_31>数据挖掘</h3> <p>数据挖掘是在没有明确假设的前提下去挖掘信息、发现知识。数据挖掘所得到的信息应具有先知、有效和实用三个特征。先前未知的信息是指该信息是预先未曾预料到的，即数据挖掘是要发现那些不能靠直觉发现的信息或知识，甚至是违背直觉的信息或知识，挖掘出的信息越是出乎意料，就可能越有价值。</p> <div class="admonition info"> <p class=admonition-title>2013 综合知识 24</p> <p>数据挖掘是从数据库的大量数据中揭示出隐含的、先前未知的并有潜在价值的信息的非平凡过程，数据挖掘的任务有 <strong>关联分析、聚类分析、分类分析、异常分析、特异群组分析和演变分析等等。</strong> 并非所有的信息发现任务都被视为数据挖掘。例如，使用数据库管理系统查找个别的记录，或通过因特网的搜索引擎查找特定的 Web 页面，则是信息检索领域的任务。虽然这些任务是重要的，可能涉及使用复杂的算法和数据结构，但是它们主要依赖传统的计算机科学技术和数据的明显特征来创建索引结构，从而有效地组织和检索信息。</p> </div> <h2 id=_32>应用程序与数据库的交互</h2> <h2 id=nosql>NoSQL 数据库</h2> <p>NoSQL 整体框架分为 4 层，由下至上分为数据持久层（Data Persistence）、数据分布层（Data Distribution Model）、数据逻辑层（Data Logical Model）和接口层（Interface），层次之间相辅相成，协调工作。其中数据逻辑模型层定义了数据的逻辑表示和操作方式。</p> <h2 id=_33>分布式数据库</h2> <p>分布式数据库是由一组数据组成的，这组数据分布在计算机网络的不同计算机上，网络中的每个节点具有独立处理能力（称为场地自治），它可以执行局部应用，同时，每个节点也能通过网络通信子系统执行全局应用。分布式数据库系统是在集中式数据库系统技术基础上发展起来的。</p> <h3 id=_34>体系结构</h3> <p>分布式数据库的体系结构如图所示：</p> <ol> <li><strong>全局视图：</strong> 全局视图（全局外模式）是全局应用的用户视图，是全局概念模式的子集，该层直接与用户（或应用程序）交互。</li> <li><strong>全局概念模式：</strong> 全局概念模式定义分布式数据库中数据的整体逻辑结构，数据就如同根本没有分布一样，可用传统的集中式数据库中所采用的方法进行定义。</li> <li><strong>分片模式：</strong> 将一个关系模式分解成为几个数据片。</li> <li><strong>分配模式：</strong> 分布式数据库的本质特性就是数据分布在不同的物理位置。分配模式的主要职责是定义数据片段（即分片模式的处理结果）的存放节点。</li> <li><strong>局部概念模式：</strong> 局部概念模式是局部数据库的概念模式。</li> <li><strong>局部内模式：</strong> 局部内模式是局部数据库的内模式。</li> </ol> <p><a class=glightbox href=../images/image-3.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=分布式数据库体系结构 src=../images/image-3.png></a></p> <h3 id=_35>特点</h3> <p>分布式数据库具有的如下特点：</p> <ul> <li>共享性：不同的节点的数据共享。</li> <li>自治性：每个节点对本地数据都能独立管理。</li> <li>可用性：某一场地故障时，可以使用其他场地上的副本而不至于使整个系统瘫痪。</li> <li>分布性：数据分布在不同场地上存储。</li> </ul> <h3 id=_36>分布透明性</h3> <p>分布透明性是指用户不必关心数据的逻辑分片，不必关心数据存储的物理位置分配细节，也不必关心局部场地上数据库的数据模型。<strong>分布透明性包括分片透明性、位置透明性和局部数据模型透明性。</strong></p> <ol> <li><strong>分片透明性</strong> 是分布透明性的最高层次。所谓分片透明性是指用户或应用程序只对全局关系进行操作而不必考虑数据的分片。</li> <li><strong>位置透明性</strong> 是分布透明性的下一层次。所谓位置透明性是指用户或应用程序应当了解分片情况，但不必了解片段的存储场地。</li> <li><strong>局部数据模型透明性（逻辑透明）</strong> 是指用户或应用程序应当了解分片及各片断存储的场地，但不必了解局部场地上使用的是何种数据模型。</li> </ol> <div class="admonition tip"> <p class=admonition-title>分布式数据库优点</p> <ol> <li>分布式数据库可以解决企业部门分散而数据需要相互联系的问题；</li> <li>如果企业需要增加新的相对自主的部门来扩充机构，则分布式数据库系统可以在对当前机构影响最小的情况下进行扩充；</li> <li>分布式数据库可以满足均衡负载的需要；</li> <li>当企业已经存在几个数据库系统，而且实现全局应用必要性增加时，就可以由这些数据库自上而下构成分布式数据库系统；</li> <li>相等规模的分布式数据库系统在出现故障的概率上不会比集中式数据库系统低，但由于其故障的影响仅限于局部数据应用，因此就整个系统来说，它的可靠性是比较高的。</li> </ol> </div> <div class="admonition tip"> <p class=admonition-title>分布式数据库两阶段提交协议</p> <p>两阶段提交是指在计算机网络,以及数据库领域内,为了使基于分布式系统 架构下的所有节点 行事务提交时保持一致性而设计的一种算法。通 常,两阶段提交也被称为是“一种协议”。</p> <p>在分布式系统中,每个节点虽然可以知晓自己的操作的成功或者失败,却无法知道其他节点的操作的成功或失败。当一个事务跨越多个节点时,为了保持事务的 <code>ACID</code> 特性,需要引入一个作为协调者的组件来统一掌控所有节点（称为“参与者”）的操作结果并最终指示这些节点是否要把操作结果进行真正的提交（如将更新后的数据写入磁盘等）。因此两阶段提交的算法思路可以概括为参与者将操作成败通知协调者,再由协调者根据所有参与者的反馈决定各参与者是否要执行提交操作还是中止操作。</p> <p>所谓的两个阶段是指准备阶段（表决阶段）和提交阶段（执行阶段）。 </p> <ol> <li>准备阶段:事务协调者（事务管理器）为每个参与者（资源管理器）发送 Prepare 消息,每个要么直接返回失败（如 验证失败）;要么在本地执行事务,写本地的redo 和undo 日志,但不提交。到达一种万事俱备,只欠东风的状态。 </li> <li>提交阶段:如果协调者收到了参与者的失败消息或者超时,直接为每个参与者发送回滚（Rollback）消息;否则发送提交（Commit）消息。参与者根据协调者的指令执行提交或者回滚操作,释放所有事务处理过程中使用的锁资源（注意必须在最后阶段释放锁资源）。</li> </ol> </div> <h2 id=_37>数据库优化技术</h2> <h2 id=redis>分布式缓存技术 Redis</h2> <h2 id=qa>Q&amp;A</h2> <h3 id=orm>ORM 是什么？</h3> <p>ORM（Object-Relation Mapping）在关系型数据库和对象之间作一个映射，我们在具体操作数据库的时候，不需要再去和复杂的 SQL 语句打交道，只要像平时操作对象一样操作即可。</p> <p>面向对象编程把所有实体看成对象（object），关系型数据库则是采用实体之间的关系（relation）连接数据库。很早就有人提出，关系也可以用对象表达，这样的话，就能使用面向对象编程，来操作关系型数据库。</p> <p>ORM 把数据库映射成对象，如：</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>数据库表（table）-&gt; 类（class）
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>记录（record）-&gt; 对象（object）
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>字段（field）-&gt; 对象的属性（attribute）
</span></code></pre></div> <ol> <li> <p>ORM 优点</p> <ul> <li>使用 ORM 可以大大降低学习和开发成本；</li> <li>程序员不用再写 SQL 来进行数据库操作；</li> <li>减少程序代码量；</li> <li>降低由于 SQL 代码质量差而带来的影响。</li> </ul> </li> <li> <p>ORM 缺点</p> <ul> <li>不太容易处理复杂的查询语句；</li> <li>性能较直接用 SQL 差。</li> </ul> </li> </ol> <h3 id=_38>数据库分类比较</h3> <table> <thead> <tr> <th>数据库类型</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>关系型数据库</td> <td>建立在关系模型基础上的数据库，借助集合代数等数学概念和方法来处理数据库中的数据。关系数据库是由多张能互相联接的二维行列表格组成的数据库</td> </tr> <tr> <td>NoSQL</td> <td>泛指非关系型数据库。解决大规模数据集合多重数据种类带来的挑战，尤其是大数据应用难题，包括超大规模数据的存储</td> </tr> <tr> <td>内存数据库</td> <td>将数据库整体存储在内存中，提高性能</td> </tr> </tbody> </table> <p><strong>关系型数据库与 NoSQL 数据库比较</strong></p> <table> <thead> <tr> <th>特征</th> <th>关系型数据库模式</th> <th>NoSQL 模式</th> </tr> </thead> <tbody> <tr> <td>并法支持</td> <td>支持并发、效率低</td> <td>并发性能高</td> </tr> <tr> <td>存储与查询</td> <td>关系表方式存储、SQL 查询</td> <td>海量数据存储、查询效率高</td> </tr> <tr> <td>扩展方式</td> <td>向上扩展</td> <td>向外扩展</td> </tr> <tr> <td>索引方式</td> <td>B树、哈希等</td> <td>键值索引</td> </tr> <tr> <td>应用领域</td> <td>面向通用领域</td> <td>特定应用领域</td> </tr> <tr> <td>数据一致性</td> <td>实时一致性</td> <td>弱一致性</td> </tr> <tr> <td>数据类型</td> <td>结构化数据</td> <td>非结构化</td> </tr> <tr> <td>事务</td> <td>高事务性</td> <td>弱事务性</td> </tr> <tr> <td>水平扩展</td> <td>弱</td> <td>强</td> </tr> <tr> <td>数据容量</td> <td>有限数据</td> <td>海量数据</td> </tr> </tbody> </table> <p><strong>关系型数据库与内存数据库比较</strong></p> <table> <thead> <tr> <th>特征</th> <th>关系型数据库模式</th> <th>内存数据库</th> </tr> </thead> <tbody> <tr> <td>主要数据模型</td> <td>关系模式</td> <td>Key-Value 模式</td> </tr> <tr> <td>读取性能</td> <td>外存读写，性能相对较低</td> <td>内存直接读写，性能相对较高</td> </tr> <tr> <td>存储容量</td> <td>基于磁盘存储，存储容量大</td> <td>基于内存存储，存储容量受限</td> </tr> <tr> <td>可靠性</td> <td>内建恢复机制，可靠性较高</td> <td>恢复机制复杂，可靠性较低</td> </tr> <tr> <td>设计难度</td> <td>针对特定应用系统设计，难度较大</td> <td>针对特定应用系统设计，难度较小</td> </tr> <tr> <td>数据冗余程度</td> <td>遵守数据库范式，数据冗余较小</td> <td>可能在多个文件中复制相同的数据属性，数据冗余较大</td> </tr> <tr> <td>数据架构</td> <td>以数据库为中心组织，管理数据</td> <td>以应用为中心管理数据</td> </tr> <tr> <td>应用扩展性</td> <td>数据库独立于应用系统，数据库系统接口标准化，易于在不同应用之间共享数据</td> <td>符合特定应用系统要求的文件数据，很难在不同的应用系统之间共享</td> </tr> </tbody> </table> <h3 id=_39>数据库缓存技术</h3> <ul> <li>MemCache 是一个高性能的分布式的内存对象缓存系统，用于动态 Web 应用以减轻数据库负载。通过在内存中维护一个统一的巨大的 HASH 表，能用来存储各种格式的数据，包括图像、视频、文件以及数据库检索结果等。</li> <li>Redis 是一个开源的使用 ANSI C 语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value 数据库，并提供多种语言的 API。</li> </ul> <p><strong>Redis 与 MemCache 的差异</strong></p> <table> <thead> <tr> <th>数据库类型</th> <th>优点</th> <th>缺点</th> </tr> </thead> <tbody> <tr> <td>MemCache</td> <td>1. 支持缓存键值对、视频、图片等</td> <td>1. 仅支持将数据存放在内存中<br>2. 仅支持 key-value 数据类型</td> </tr> <tr> <td>Redis</td> <td>1. 支持缓存键值对、list、set、hash 等数据存储<br>2. 支持物理存储，可以将一些很久没用用到的 value 交换到磁盘</td> <td></td> </tr> </tbody> </table> <h3 id=4>不规范化带来的 4 大问题</h3> <p>设有一个关系模式 <span class=arithmatex>\(R(SNAME,CNAME,TNAME,TADDRESS)\)</span>，其属性分别表示学生姓名、选修课的课程名、任课教师姓名和任课教师地址。仔细分析一下，就会发现这个模式存在下列存储异常的问题：</p> <ol> <li>数据冗余：数据被重复存储，如某门课程有 100 个学生选修，那么 R 的关系中就要出现 100 个元组，这门课程的任课教师姓名和地址也随之重复出现 100 次；</li> <li>修改异常：修改导致数据不一致，如由于上述冗余问题，当需要修改这个教师的地址时，就要修改 100 个元组中的地址值，否则就会出现地址值不一致的现象；</li> <li>插入异常：插入时异常，如果不知道听课学生名单，这个教师的任课情况和家庭地址就无法进入数据库；</li> <li>删除异常：删除了不该删除的数据，如当只有一条记录时，要删除这个学生选课信息，会将课程名、教师名和教师地址都给删除了。</li> </ol> <h3 id=_40>反规范化技术</h3> <p>规范花设计后，数据库设计者希望牺牲部分规范化来提高性能和复杂度。</p> <p>采用规范化的益处：降低连接操作的需求、降低外码和索引的数目，还能减少表的数目，能够提高查询效率。</p> <p>可能带来的问题：数据的重复存储，浪费了磁盘空间；可能出现数据的完整性问题，为了保障数据的一致性，增加了数据维护的复杂性，会降低修改速度。</p> <ul> <li>增加冗余列：在多个表中保留相同的列，通过增加数据冗余减少或避免查询时的连接操作；</li> <li>增加派生列：在表中增加可以由本表或其它表中数据计算生成的列，减少查询时的连接操作并避免计算或使用集合函数；</li> <li>重新组表：如果许多用户需要查看两个表连接出来的结果数据，则把这两人表重新组成一个表来减少连接而提高性能；</li> <li>水平分割表：根据一列或多列数据的值，把数据放到多个独立的表中，主要用于表数据规模很大、表中数据相对独立或数据需要存放到多个介质上时使用；</li> <li>垂直分割表：根据某些列的访问频度，把被频繁访问的列和不常访问的列分开，把经常一起使用的列放在一个表中，把不常使用的列放在另一个表中，这样可以提高查询效率，在查询时减少 I/O 次数。</li> </ul> <h3 id=_41>存储过程是什么？</h3> <p>存储过程（Stored Procedure）是在大型数据库系统中，一组为了完成特定功能的 SQL 语句集，它存储在数据库中，一次编译后永久失效，用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。</p> <p>存储过程是数据库所提供的一种数据库对象，通过存储过程定义的一段代码，提供给应用程序调用来执行。从安全性的角度分析，更新数据时，通过提供存储过程让第三方调用，将需要更新的数据传入存储过程，而在存储过程内部用代码分别对需要的多个表进行更新，从而避免向第三方提供系统的表结构，保证了系统的数据安全。</p> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> 此页面有帮助吗？ </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title=此页面很有帮助。 data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title=此页面可以改进。 data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> 感谢您的反馈! </div> <div data-md-value=0 hidden> 感谢您的反馈！使用我们的<a href=... target=_blank rel=noopener>反馈表</a>帮助我们改进此页面。 </div> </div> </div> </fieldset> </form> <h2 id=__comments>评论</h2> <!-- Insert generated snippet here --> <script src=https://giscus.app/client.js data-repo=cloakscn/cloakscn.github.io data-repo-id=R_kgDOLYdGgw data-category=General data-category-id=DIC_kwDOLYdGg84CkjbF data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async>
  </script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../basics%20software%20engineering/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 软件工程（重要‼️）"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> 软件工程（重要‼️） </div> </div> </a> <a href=../basics%20intellectual%20property%20rights/ class="md-footer__link md-footer__link--next" aria-label="下一页: 知识产权"> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 知识产权 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2018 - 2024 Cloaks <a href=https://beian.miit.gov.cn/ target=_blank>晋ICP备19014927号-3</a><br> <span id=busuanzi_container_site_pv> 本站总访问量<span id=busuanzi_value_site_pv></span>次 </span> | <span id=busuanzi_container_site_uv> 本站访客数<span id=busuanzi_value_site_uv></span>人次 </span> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://cloaks.cn/feed_rss_created.xml target=_blank rel=noopener title=cloaks.cn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24zM3.291 17.415a3.3 3.3 0 0 1 3.293 3.295A3.303 3.303 0 0 1 3.283 24C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295M15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91"/></svg> </a> <a href=https://github.com/cloakscn target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://hub.docker.com/u/cloaks target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href=mailto:cloaks@qq.com target=_blank rel=noopener title class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> </a> <a href="https://analytics.google.com/analytics/web/#/p299634585/reports/intelligenthome?params=_u..nav%3Dmaui" target=_blank rel=noopener title=analytics.google.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M15.86 4.39v15c0 1.67 1.14 2.61 2.39 2.61 1.14 0 2.39-.79 2.39-2.61V4.5c0-1.54-1.14-2.5-2.39-2.5s-2.39 1.06-2.39 2.39M9.61 12v7.39C9.61 21.07 10.77 22 12 22c1.14 0 2.39-.79 2.39-2.61v-7.28c0-1.54-1.14-2.5-2.39-2.5S9.61 10.67 9.61 12m-3.86 5.23c1.32 0 2.39 1.07 2.39 2.38a2.39 2.39 0 1 1-4.78 0c0-1.31 1.07-2.38 2.39-2.38"/></svg> </a> <a href=https://www.google.com/adsense/new/u/0/pub-3907145727941275/onboarding target=_blank rel=noopener title=www.google.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22.056 8.447a3.894 3.894 0 0 0-5.313 1.419l-3.889 6.72a3.874 3.874 0 0 0 1.415 5.293l.01.005a3.894 3.894 0 0 0 5.312-1.42l3.889-6.718a3.875 3.875 0 0 0-1.416-5.294zm-14.7 12.168c-1.08 1.888-3.514 2.583-5.384 1.493S-.561 18.653.519 16.765s3.494-2.586 5.365-1.496 2.554 3.457 1.474 5.344m4.131-19.228a3.94 3.94 0 0 0-3.267 2.189l-3.67 6.279a5 5 0 0 0-.227.387l-2.746 4.737c1.345-.86 3.09-.993 4.55-.143a4.46 4.46 0 0 1 2.22 4.041l2.77-4.763q.123-.186.224-.385l3.67-6.281a3.86 3.86 0 0 0-1.283-5.55 3.96 3.96 0 0 0-2.24-.511z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent | Cookie 同意</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better. <br> 我们使用 cookie 来识别您的重复访问和偏好，并衡量我们文档的有效性以及用户是否找到了他们正在搜索的内容。经您同意，您正在帮助我们改进我们的文档。</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.path", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <!-- Add scripts that need to run before here --> <script src=../../assets/javascripts/bundle.5090c770.min.js></script> <script src=../../assets/javascripts/katex.js></script> <script src=../../assets/javascripts/mermaid.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.min.js></script> <script src=https://unpkg.com/katex@0/dist/katex.min.js></script> <script src=https://unpkg.com/katex@0/dist/contrib/auto-render.min.js></script> <!-- Add scripts that need to run afterwards here --> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3907145727941275" crossorigin=anonymous></script> <script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>