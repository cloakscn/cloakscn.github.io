# 软件架构演化和维护（了解）

!!! info "2013 综合知识 28"

    遗留系统的演化可以采用淘汰、继承、改造和集成四种策略。
    
    淘汰策略适用于技术含量较低，且具有较低的业务价值的遗留系统，即通过全面重新开发新的系统以代替遗留系统。

    若遗留系统的技术含量较低，能满足企业运作的功能或性能要求，但具布较高的商业机制，目前企业的业务上紧密依赖该系统，这种遗留系统的演化策略为继承。在开发新系统时，需要完全兼容遗留系统的功能模型和数据模型。为了保证业务的连续性，新老系统必须并行运行一段时间。
    
    对于技术含量较高，本身还有极大的生命力，又具有较高的业务价值，基本上能够满足企业业务运作和决策支持需要的遗留系统，采用改造策略进行演化。改造包括系统功能的增强和数据模型的改造两个方面。
    
    遗留系统的技术含量较高，但其业务价值较低，可能只完成某个部门（或子公司）的业务管理。这种系统在各自局部领域里工作良好，但对于整个企业来说，存在多个这样的系统，不同的系统基于不同的平台、不同的数据模型，形成了一个个信息孤岛。对于这种遗留系统的演化策略为集成。

## 软件架构演化和定义的关系

## 面向对象软件架构演化过程

## 软件架构演化方式的分类

## 软件架构演化原则

## 软件架构演化评估方法

1. 演化过程已知的评估
2. 演化过程未知的评估

## 大型网站系统架构演化实例

* 第一阶段：单体架构
    
    应用程序、数据库、文件等所有资源都在一台服务器上。

* 第二阶段：垂直架构

    将应用和数据分离，整个网站使用 3 台服务器：应用服务器、文件服务器、数据服务器。

* 第三阶段：使用缓存改善网站性能

    包括在应用服务器上的本地缓存和在专门的分布式缓存服务器上的远程缓存。

* 第四阶段：使用服务集群改善网站并发处理能力

    通过负载均衡调度服务器，将来自用户浏览器的访问请求分发到应用服务器集群中的任何一台服务器上，解决高并发、海量数据问题。

* 第五阶段：数据库读写分离。

    应用服务器在写数据时，访问主数据库，主服务器通过主从复制机制将数据更新同步到从服务器。在应用服务器读数据时，访问从数据库。

* 第六阶段：使用反向代理和 CDN 加速网站响应。CDN 和反向代理的基本原理都是缓存。

    1. CDN 部署在网络提供商的机房，用户在请求网站服务时，可在距离最近的网络提供商机房获取数据。

    2. 反向代理部署在网站的中心机房，用户请求到达中心机房后，先访问反向代理服务器。

* 第七阶段：使用分布式文件系统和分布式数据库系统。

    进行业务分库，将不同业务的数据部署在不同的物理服务器上。

* 第八阶段：使用 NoSQL 和搜索引擎。
* 第九阶段：业务拆分。

    将一个网站拆分成许多不同的应用，每个应用独立部署。

* 第十阶段：分布式服务。

## 软件架构维护

软件架构维护过程包括 **软件架构知识管理**、**软件架构修改管理**、**软件架构版本管理** 等。

### 软件架构知识管理
### 软件架构修改管理
### 软件架构版本管理
### 软件架构可维护性度量实践