# 软件工程基础知识（编制中）

## 软件工程

## 需求工程

!!! info "2010 综合知识 22"

    在初步项目范围说明书中己文档化的主要的可交付物、假设和约束条件的基础上准备详细的项目范围说明书，是项目成功的关键。范围定义的输入包括以下内容：
    
    1. 项目章程。如果项目章程或初始的范围说明书没有在项目执行组织中使用，同样的信息需要进一步收集和开发，以产生详细的项目范围说明书。
    2. 项目范围管理计划。
    3. 组织过程资产。
    4. 批准的变更申请。

!!! info "2010 综合知识 24"

    对许多项目来说，系统软件总需要不断完善，一些需求的改进是合理的而且不可避免，要使得软件需求完全不变更，也许是不可能的，但毫无控制的变更是项目陷入混乱、不能按进度完成或者软件质量无法保证的主要原因之一。
    
    一个好的变更控制过程，给项目风险承担者提供了正式的建议需求变更机制。可以通过需求变更控制过程来跟踪已建议变更的状态，使已建议的变更确保不会丢失或疏忽。 在实际中，人们总是希望使用自动工具来执行变更控制过程。有许多人使用商业问题跟踪工具来收集、存储、管理需求变更；可以使用工具对一系列最近提交的变更建议产生一个列表给变更控制委员会开会时做议程用。问题跟踪工具也可以随时按变更状态分类包裹变更请求的数目。
    
    挑选工具时可以考虑以下几个方面：
    
    1. 可以定义变更请求的数据项。
    2. 可以定义变更请求生存期的状态转换图。
    3. 可以加强状态转换图，使经授权的用户仅能做出所允许的状态变更。
    4. 记录每一种状态变更的数据，确认做出变更的人员。
    5. 可以定义在提交新请求或请求状态被更新后应该自动通知的设计人员。
    6. 可以根据需要生成标准的或定制的报告和图表。

!!! info "2010 综合知识 25"

    过程能力成熟度模型（Capability Maturity Model, CMM）在软件开发机构中被广泛用来指导软件过程改进。该模型描述了软件过程能力的 5 个成熟度级别，每一级都包含若干关键过程域（Key Process Areas，KPA）。

    CMM 的第二级为可重复级，它包括了 6 个关键过程域，分别是：需求管理、软件项目计划、软件项目跟踪和监督、软件分包合同管理、软件质量保证和软件配置管理。
    
    需求管理的目标是为软件需求建立一个基线，提供给软件工程和管理使用：软件计划、产品和活动与软件需求保持一致。
    
## 系统分析与设计

### 结构化方法（Structured Analysis and Structured Design，SASD）

结构化方法又称为<u>面向功能的软件开发方法</u>或<u>面向数据流的软件开发方法</u>。针对软件生存周期各个不同的阶段，有 **结构化分析**、**结构化设计**和**结构化编程**等方法。

!!! info "2010 综合知识 32"

1. 结构化分析（Structured Analysis, SA）

    SA 利用图形表达用户需求中的功能需求，使用的手段主要有<u>数据流图（Data Flow Diagram, DFD）、数据字典、结构化语言、判定表及判定树等</u>。

    数据流图（DFD）由 4 种基本元素组成：<u>数据流、处理/加工、数据存储和外部项</u>。

    结构化分析具体的建模过程及步骤为明确目标、确定系统范围、建立顶层 DFD 图、构建第一层 DFD 分解图、开发 DFD 层次结构图、检查确认 DFD 图。
    
    DFD 图需要满足规则：
    
    * 父图数据流必须在子图中出现；
    * 一个处理至少有一个输入流和一个输出流；
    * 一个存储必定有流入和流出；
    * 一个数据流至少有一端是处理端；
    * 模型表达的信息是全面的、完整的、正确的和一致的。

    数据字典（Data Dictionary）是一种标记用户可以访问的数据项和元数据的目录，是对系统中使用的所有数据元素定义的集合，包括数据项、数据结构、数据流、数据存储和处理过程。

2. 结构化设计（Structured Design, SD）

    SD 是一种面向数据流的设计方法，以 SRS 和 SA 阶段所产生的数据流图和数据字典等文档为基础，是一个<u>自顶向下、逐步求精和模块化</u>的过程。SD 分为 **概要设计** 和 **详细设计** 两个阶段。
    
    * 概要设计的主要任务是确定软件系统的结构，对系统进行模块划分，确定每个模块的功能、接口和模块之间的调用关系；
    * 详细设计的主要任务是为每个模块设计实现的细节。

    在 SD 中，模块是实现功能的基本单位，一般具有 **功能、逻辑和状态** 3 个基本属性。

    耦合表示模块之间的联系的程度，耦合度从低到高依次如表所示：

    | 耦合类型   | 描述 |
    | ---------- | ---- |
    | 非直接耦合 |  两个模块之间没有直接关系，互相不依赖对方    |
    | 数据耦合   |     一组模块借助参数表传递简单数据 |
    | 标记耦合   |     一组模块通过参数表传递记录等复杂信息（数据结构） |
    | 控制耦合   |     模块之间传递的信息中包含用于直接控制模块内部逻辑的信息 |
    | 通信耦合   |     一组模块共享了输入或输出 |
    | 公共耦合   |     多个模块都访问同一个公共数据环境，公共的数据环境可以是全局数据结构、共享的通信区、内存的公共覆盖区等 |
    | 内容耦合   |     一个模块直接访问另一个模块的内部数据、一个模块不通过正常入口跳转 |

    内聚表示模块内部个代码成分之间联系的紧密程度，内聚从高到底依次如表所示：

    | 内聚类型 | 描述                                                               |
    | -------- | ------------------------------------------------------------------ |
    | 功能内聚 | 各个部分协同完成一个单一功能，缺一不可                             |
    | 顺序内聚 | 处理元素相关，而且必须顺序执行，通常前一任务的输出是后一任务的输入 |
    | 通信内聚 | 所有处理元素集中在一个数据结构的区域上                             |
    | 过程内聚 | 处理元素相关，而且必须按特定的次序执行                             |
    | 时间内聚 | 所包含的任务必须在同一时间间隔内执行                               |
    | 逻辑内聚 | 完成逻辑上相关的一组任务，互相存在调用关系                         |
    | 偶然内聚 | 完成一组没有关系或松散关系的任务，或者仅仅代码相似 |

    模块分解中应遵循“高内聚、低耦合”的设计原则。
    
    概要设计使用系统结构图（Structure Chart，SC），又称为模块结构图，反映了系统的总体结构。
    
    详细设计的主要任务是设计每个模块的实现算法、所需的局部数据结构。详细设计的表示工具有图形工具、表格工具和语言工具。图形有业务流图、程序流程图、问题分析图（Problem Analysis Diagram，PAD）、NS 流程图等。
 
3. 结构化编程（Structured Programming, SP）。
   
    SP 通过顺序、分支和循环三种基本控制结构可以构造出任何单入口单出口程序。
   
    SP 强调：自顶向下，逐步细化；清晰第一，效率第二；书写规范，缩进格式；基本结构，组合而成。
   
    P 原则：程序 =（算法）+（数据结构）。两者分开设计，以算法（函数或过程）为主。
   
4. 数据库设计（概念结构设计部分）。概念结构设计建立抽象的概念数据模型，通常采用实体-联系图（Entity Relationship Diagram, E-R 图）来表示。

### 面向对象方法

### 其他设计方法

其他设计方法如构件与软件重用。软件重用是使用已有软件产品来开发新的软件系统的过程，分为 **水平式重用** 和 **垂直式重用** 两种类型。

| 名称       | 对象                     | 举例       |
| ---------- | ------------------------ | ---------- |
| 水平式重用 | 不同应用领域中的软件元素 | 标准函数库 |
| 垂直式重用 | 共性应用领域间的软部件   | 区块链 |

!!! info "2010 综合知识 31"

    软件重用是指在两次或多次不同的软件开发过程中重复使用相同或相似软件元素的过程。按照重用活动是否跨越相似性较少的多个应用领域，软件重用可以区别为横向重用和纵向重用。
    
    横向重用是指重用不同应用领域中的软件元素，例如数据结构、分类算法和人机界面构建等。标准函数是一种典型的、原始的横向重用机制。
    
    纵向重用是指在一类具有较多公共性的应用领域之间进行软部件重用。纵向重用活动的主要关键点是域分析：根据应用领域的特征及相似性预测软部件的可重用性。

### 逆向工程

## 软件测试

测试是确保软件的质量，确认软件以正确的方式做了用户所期望的事情。软件测试通常在规定的时间和成本内完成，以尽量多地发现漏洞，但不能保证发现所有的漏洞。

| 分类方式                       | 分类                                                                |
| ------------------------------ | ------------------------------------------------------------------- |
| 根据软件执行状态               | 静态测试（Static Testing, ST）和动态测试（Dynamic Testing, DT）     |
| 根据是否关注具体实现和内部结构 | 黑盒测试、白盒测试、灰盒测试                                        |
| 根据程序执行的方式来分类       | 人工测试（Manual Testing, MT）和自动化测试（Automatic Testing, AT） |
| 从阶段上来分                   | 单元测试、集成测试、系统测试、验收测试                              |
| 其他                           | AB 测试、Web 测试、链接测试和表单测试等 |

* **单元测试** 主要是对该软件的模块进行测试，往往由程序员自己完成。常采用 **白盒的静态测试** 如静态分析、代码审查等，也可以采用 **自动化的动态测试**。
* **集成测试** 对通过单元测试的模块进行组装测试，以验证组装的正确性，一般采用 **白盒测试和黑盒测试结合** 的方法。
* **系统测试** 检查组装完成的系统是否符合 SRS 的要求。主要测试内容包括 **功能测试、性能测试、健壮性测试、安全性测试等**，*结束标志是测试工作已满足测试目标所规定的需求覆盖率，并且测试所发现的缺陷都已全部归零。*

!!! note "2009 综合知识 43"

    系统测试是将已经确认的软件、计算机硬件、外设和网络等其他因素结合在一起， 进行信息系统的各种集成测试和确认测试，其目的是通过与系统的需求相比较，发现所开发的系统与用户需求不符或矛盾的地方。系统测试是根据系统方案说明书来设计测试用例，常见的系统测试主要有恢复测试、安全性测试、压力测试、性能测试、可靠性测试、可用性测试、可维护性测试和安装测试。

* **验收测试** 是确认系统满足用户需求或者协议的要求，确保系统能支撑业务运行。

## 净室软件工程

净室软件工程（Cleanroom Software Engineering, CSE）是一种在软件开发过程中强调在软件中建立正确性的需要的方法。CSE 的理论基础主要是函数理论和抽样理论。CSE 使用盒子结构规约进行分析和设计建模，并且强调将正确性验证（而不是测试）作为发现和消除错误的主要机制，可以生成质量非常高的软件。CSE 的缺点是太理论化、忽视测试、带有传统软件工程的弊端。

## 面向对象的软件工程（重要）

## 基于构建的软件工程（重要）

基于构建的软件工程（Component-Based Software Engineering, CBSE）是一种基于分布对象技术、强调通过可复用构建设计与构造软件系统的软件复用途径。用于 CBSE 的构件应该具备以下特征：

1. 可组装型：所有外部交互必须通过公开定义的接口进行；
2. 可部署形：必须能作为一个独立实体在提供其构件模型实现的构件平台上运行；
3. 文档化：构件必须是完全文档化的；
4. 独立化：构件应该是独立的，如确实需要其他构件提供服务，则应显式声明；
5. 标准化：必须符合某种标准化的构件模型。

!!! info "2010 综合知识 35"

    在基于构件的开发中，构件包含并扩展了 **模块化程序设计** 中子程序、**面向对象系统** 中对象或类和系统模型中包的思想，它是系统设计、实现和维护的基础。构件定义为通过接口访问服务的一个独立可交付的功能单元。

### 构件模型

构件模型定义了构件实现、文档化以及开发的标准。目前主流的构件模型是 **Web Services 模型**、Sun 公司的 **EJB 模型** 和微软的 **.NET 模型**。构件模型包含了一些模型要素如 **接口、使用信息和部署信息**。构件模型提供了一组被构件使用的通用服务，包括<u>平台服务和支持服务。</u>容器是构件模型基础设施，是支持服务的一个实现加上一个接口定义，构件必须提供该接口定义以便和容器整合在一起。

!!! info "CBSE 过程"

    支持基于构件组装的软件开发过程主要包括：

    1. 系统需求概述；
    2. 识别候选构件；
    3. 根据发现的构件修改需求；
    4. 体系结构设计；
    5. 构件定制与适配；
    6. 组装构件，创建系统。

    CBSE 过程与传统的软件开发过程的不同点：

    7. 早期需要完整的需求，以便经可能多的识别出可复用的构件；
    8. 早期阶段根据可利用的构件来细化和修改需求以匹配 CBSE；
    9. 架构设计完成后，可能需要修改构件以适合功能和架构的需求；
    10. 开发过程就是组装构件的过程，有时需要开发适配器；
    11. CBSE 中的架构设计阶段特别重要，决定和限制了可选构件的范围。

### 构件组装

常见的构件组装有 **顺序组装、层次组装和叠加组装** 3 种组装方式。构件组装可能面临接口不兼容的问题，常见的有 **参数不兼容、操作不兼容和操作不完备** 3 种。这时需要编写适配器构件来解决不兼容的问题。

## 软件项目管理

1. 软件进度管理一般包括活动定义、活动排序、活动资源估计、活动历时估计、制定进度计划和进度控制 6 个过程。
2. 工作分解结构（Work Breakdown Structure，WBS）是把一个项目，按一定的原则分解成任务，任务再分解成一项项工作，再把一项项工作分配到每个人的活动中，直到分解不下去为止。以可交付成果为导向，对项目要素进行的分组，总是处于计划过程的中心。

    !!! info "2010 综合知识 22"

        项目时间管理包括使项目按时完成所必需的管理过程。项目时间管理中的过程包括：活动定义、活动排序、活动的资源估算、活动历时估算、制定进度计划以及进度控制。
        
        为了得到工作分解结构（Work Breakdown Structure，WBS）中最底层的交付物，必须执行一系列的活动。对这些活动的识别以及归档的过程就是活动定义。
        
        鱼骨图（也称为 Ishikawa 图）是一种发现问题“根本原因”的方法，通常用来进行因果分析。


3. 活动定义是指确定完成项目的各个可交付成果所必须进行的各项具体活动，还需要明确每个活动的前驱、持续时间、必须完成日期、里程碑或可交付成果。
4. 任务活动图是项目进度管理、项目成本管理等一系列项目管理活动的基础，通常采用甘特图等方式来展示和管理项目活动。
5. 软件配置管理（Software Configuration Management，SCM）是一种标识、组织和控制修改的技术。SCM 的目的是使错误降为最小并最有效地提高生产效率。SCM 的核心内容包括版本控制和变更控制。版本控制（Version Control）是指对软件开发过程中各种文件变更的管理，最主要的功能就是追踪和记录文件的变更、并行开发。变更控制（Change Control）是指对变更进行管理，确保变更有序进行。
6. 软件质量管理。软件质量就是软件与明确地和隐含地定义的需求相一致的程度。软件质
量保证（Software Quality Assurance，SQA）的目的是使软件过程对于管理人员来说是可见的。

    !!! tip "SQA 的主要任务是"

        1. SQA 审计与评审，包括对软件工作产品、软件工具和设备的审计，评审开发组的行为符合预定的过程。
        2. SQA 报告。
        3. 处理不符合问题。
        
        软件质量认证，国内软件企业主要采用的是 ISO 9001 和 CMM。

7. 软件风险管理。软件项目风险是指在软件开发过程中遇到的预算和进度等方面的问题以及这些问题对软件项目的影响。风险管理的主要目标是预防风险，及应对发生的风险。风险管理活动可以分为：

    1. Bochm 把风险管理活动分成风险估计（风险辨识、风险分析、风险排序）和风险控制（风险管理计划、风险处理、风险监督）两大阶段。
    2. Charette 把风险分成分析（辨识、估计、评价）和管理（计划、控制、监督）两大阶段。

