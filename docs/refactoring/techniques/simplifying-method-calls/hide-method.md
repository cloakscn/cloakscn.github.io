---
title: 隐藏方法
date: 2023-03-01
order: 11
category:
  - 重构
---

## 问题

方法不被其他类使用，或者仅在其自己的类层次结构中使用。

![](https://refactoringguru.cn/images/refactoring/diagrams/Hide%20Method%20-%20Before.png =x150)

## 解决方法

将方法设置为私有或受保护。

![](https://refactoringguru.cn/images/refactoring/diagrams/Hide%20Method%20-%20After.png =x150)


## 为什么重构？

通常，隐藏获取和设置值的方法的需要是由于开发了提供附加行为的更丰富的接口，特别是如果您从一个除了单纯的数据封装之外几乎没有添加任何内容的类开始。

随着新行为内置到类中，您可能会发现不再需要公共 getter 和 setter 方法，并且可以将其隐藏。如果将 getter 或 setter 方法设为私有并应用对变量的直接访问，则可以删除该方法。

## 好处

- 隐藏方法使您的代码更容易发展。当您更改私有方法时，您只需要担心如何不破坏当前类，因为您知道该方法不能在其他任何地方使用。
- 通过将方法设为私有，您可以强调类的公共接口以及保持公共的方法的重要性。

## 如何重构？

1. 定期尝试寻找可以设为私有的方法。静态代码分析和良好的单元测试覆盖率可以提供很大的帮助。
2. 使每个方法尽可能私有。
